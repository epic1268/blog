<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>07代码整理的关键逻辑和最佳案例 - Docs</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="06 | 代码整理的关键逻辑和最佳案例
写一篇文章，要层次清楚、段落分明，写代码也是这样。杂志排版，要布局合理，阅读舒适，代码的编排也要这样。
可是很多人想的是，代码能工作就行，不用讲究格式；时间紧，哪有时间整理代码。
" /><meta name="keywords" content="技术文档, docs, 极客时间" />






<meta name="generator" content="Hugo 0.140.2 with theme even" />


<link rel="canonical" href="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF/07%E4%BB%A3%E7%A0%81%E6%95%B4%E7%90%86%E7%9A%84%E5%85%B3%E9%94%AE%E9%80%BB%E8%BE%91%E5%92%8C%E6%9C%80%E4%BD%B3%E6%A1%88%E4%BE%8B/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF/07%E4%BB%A3%E7%A0%81%E6%95%B4%E7%90%86%E7%9A%84%E5%85%B3%E9%94%AE%E9%80%BB%E8%BE%91%E5%92%8C%E6%9C%80%E4%BD%B3%E6%A1%88%E4%BE%8B/">
  <meta property="og:site_name" content="Docs">
  <meta property="og:title" content="07代码整理的关键逻辑和最佳案例">
  <meta property="og:description" content="06 | 代码整理的关键逻辑和最佳案例
写一篇文章，要层次清楚、段落分明，写代码也是这样。杂志排版，要布局合理，阅读舒适，代码的编排也要这样。
可是很多人想的是，代码能工作就行，不用讲究格式；时间紧，哪有时间整理代码。">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:tag" content="代码精进之路">

  <meta itemprop="name" content="07代码整理的关键逻辑和最佳案例">
  <meta itemprop="description" content="06 | 代码整理的关键逻辑和最佳案例
写一篇文章，要层次清楚、段落分明，写代码也是这样。杂志排版，要布局合理，阅读舒适，代码的编排也要这样。
可是很多人想的是，代码能工作就行，不用讲究格式；时间紧，哪有时间整理代码。">
  <meta itemprop="datePublished" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="4348">
  <meta itemprop="keywords" content="代码精进之路">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="07代码整理的关键逻辑和最佳案例">
  <meta name="twitter:description" content="06 | 代码整理的关键逻辑和最佳案例
写一篇文章，要层次清楚、段落分明，写代码也是这样。杂志排版，要布局合理，阅读舒适，代码的编排也要这样。
可是很多人想的是，代码能工作就行，不用讲究格式；时间紧，哪有时间整理代码。">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Docs</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Docs</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">07代码整理的关键逻辑和最佳案例</h1>

      <div class="post-meta">
        <span class="post-time"> 10100-01-10 </span>
        <div class="post-category">
            <a href="/categories/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/"> 极客时间 </a>
            </div>
          <span class="more-meta"> 约 4348 字 </span>
          <span class="more-meta"> 预计阅读 9 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents"></nav>
  </div>
</div>
    <div class="post-content">
      <p>06 | 代码整理的关键逻辑和最佳案例</p>
<p>写一篇文章，要层次清楚、段落分明，写代码也是这样。杂志排版，要布局合理，阅读舒适，代码的编排也要这样。</p>
<p>可是很多人想的是，代码能工作就行，不用讲究格式；时间紧，哪有时间整理代码。</p>
<p>可事实上，干净整洁的代码带给我们的，远远不止格式上的赏心悦目，它更可以减少错误，提高我们的编程速度与效率。因为代码的层次结构、格式部署，是我们对自己思维的整理，也是我们思考逻辑的展现。</p>
<p>很多人不愿意整理代码，觉得这项工作很麻烦。其实代码的整理并不复杂，也不需要什么高深的技巧。有效地使用空行、空格和缩进，简单的分割与对齐，就可以使得代码的视觉效果甚至质量发生巨大的变化，理顺编码的思路，提高编码的效率。这是一个付出少、收获大，值得养成的好习惯。</p>
<p>给代码分块</p>
<p>其实整理代码，就是给代码分块。我们的大脑接收信息是按照分块的模式进行的。一块就是一个可识别的信息，它被安放到短期记忆的“插槽”里。信息块的实际信息量是可变的，但是越简单、越具体的信息块越容易被记住和理解。</p>
<p>一份好的报纸或者杂志，文章本身往往很简短，或者被分割为简短的块。使用小段落、子标题，大量留白，版面切割，尽一切可能分解文章、版面，让眼睛舒适，让大脑有时间停留下来接受每个信息快。</p>
<p>一个代码文件，可以看做是一个杂志版面。在这个版面里，我们要把代码整理成清晰的模块，这样每一小块在视觉上和逻辑上都是可以区分的，可以帮助我们阅读和记忆，减轻眼睛和大脑的疲劳。</p>
<p>比较下面的两种形式的语句。这两种形式，在实际逻辑上是完全相同的。但是，第二个语句使用了更细化的块，这样视觉形式和逻辑形式都是清晰直观的。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">if (firstName != null &amp;&amp; lastName != null)
</span></span></code></pre></td></tr></table>
</div>
</div><p>if ((firstName != null) &amp;&amp; (lastName != null))</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">如果一段代码放眼望去都是大块大块的，那对于一个初学者来说，阅读和理解就非常困难。他需要将复杂的表达式再次分解，分解到可以单独理解的变量和运算符，再重新组合。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">你看，这样是不是很麻烦？
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">一个好的程序员，要识别并且区分代码块，让它们易于阅读和辨认。程序代码分块时，我们需要注意以下三个点。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">保持代码块的单一性，一个代码块只能有一个目标。代码块内所有的内容都是为了一个目标服务的，不能把无关的内容放在同一个代码块里。同一个代码块里语句的相互联系比与相邻代码块里的语句关系更为紧密；
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">注意代码块的完整性。代码块是一个完整的信息块。一个代码块要表达一个相对完整的意思，不能一个意思没说完就分块了，就像话说了半句一样；
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">代码块数量要适当。代码块过多，会让人觉得路径太长，逻辑复杂，不容易阅读理解。一个基础的代码块最好不要超过 25 行（通常显示屏小半个页面），否则就会有增加阅读理解的困难。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">我们读文章的时候，如果段落划分合理，那么读一次差不多就能清楚地记住了。日常阅读的新闻、时事、娱乐报道，和学术著作相比，通常会使用更短的段落。这就是有意缩短信息快，使报道更加适合快速阅读的需要。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">同样的，我们划分代码块，就是要让人清楚地阅读和理解。如果一个代码块太长，说明我们还可以进一步细分它。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">使用空白空间
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">给代码分块的办法之一，就是有效地使用空白空间。空白的空间虽然没有内容，但会给我们重要的信息提示。因此我们写代码的时候，一定要合理地运用空白。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">为什么呢？
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">靠近的代码会形成一个视觉块，并且具有隐含的关联。分开的代码，意味着上下两段代码的关联没有那么紧密。这种视觉效果会给我们暗示，代码靠得越近，代码之间的关系越紧密。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">因此，空白区域，不仅仅可以用来分割代码，还展示了代码之间的关系。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">代码的分块，通过空格、缩进和空行来整理，或者分割。其中空格可以进行逻辑区隔，用于同一行代码内部的信息分块。缩进用于水平分割，用于表示代码块的级别。空行用于垂直分割，用于分开同级别的不同代码块。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">下面这个简图，可以直观地表示这种代码块的布局方式。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">或者，也可以参考下面的代码示例。 这段代码，也包含了使用空格区分同一行代码内部的信息块。
</span></span></code></pre></td></tr></table>
</div>
</div><p>package coding;</p>
<p>public class CodingFormat {
    public static void main(String[] args) {
        System.out.println(
                &ldquo;German say hello with &quot;
                + Greeting.GERMAN.getGreeting());
    }</p>
<p>    private static enum Greeting {
        ENGLISH     (&ldquo;English&rdquo;,  &ldquo;Hello&rdquo;),
        SPANISH     (&ldquo;Spanish&rdquo;,  &ldquo;Hola&rdquo;),
        GERMAN      (&ldquo;German&rdquo;,   &ldquo;Hallo&rdquo;),
        MANDARIN    (&ldquo;Mandarin&rdquo;, &ldquo;Ni Hao&rdquo;);</p>
<p>        private final String language;
        private final String greeting;</p>
<p>        private Greeting(String language, String greeting) {
            this.language = language;
            this.greeting = greeting;
        }</p>
<p>        private String getGreeting() {
            return greeting;
        }</p>
<p>        private String getLanguage() {
            return language;
        }
    }
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">那么到底如何利用空白空间呢？可以分为下面四个方法，我来一一讲解一下。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">同级别代码块靠左对齐
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">我们阅读的习惯顺序是从左到右，代码也如此。因此不同行，但同级别的代码要靠左对齐。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">比如，上面的 CodingFormat 例子中，main() 方法和 Greeting 枚举类都是 CodingFormat 的下一级内容，属于同一级别的两个块。 两个代码块的左侧要对齐。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">上面的 CodingFormat 例子中的枚举常量、枚举类的变量、枚举类的方法，也是属于同一级别的内容。 对应地，左侧要对齐。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">同级别代码块空行分割
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">我们阅读代码总是从上往下读，不同行的同级别的代码块之间，要使用空行分割。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">当我们读到一个空行的时候，我们的大脑就会意识到这部分的信息结束了，可以停留下来接受这段信息。 另外，我们阅读代码的时候，碰到空白行，我们也可以暂停，往回看几行，或者重新回顾一下整个代码块，梳理逻辑、加深理解。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">比如，上面的 CodingFormat 例子中，main() 方法和 Greeting 枚举类之间的空白行，getGreeting() 和 getLanguage() 方法之间的空行，都是用来分割不同的信息块的。greeting 变量和 Greeting 构造方法之间的空白行，表示变量声明结束，下面是开始定义类的方法，同样起到分割信息块的作用。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">下一级代码块向右缩进
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">我们上面讲了同级别的代码格式，那么不同级别的呢？
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">区分不同行的不同级别的代码，可以使用缩进。缩进的目的是为了让我们更直观地看到缩进线，从而意识到代码之间的关系。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">缩进虽然是一个共识，但怎么缩进是一个富有争议的话题。不同的语言，不同的程序员，有着不同的偏好。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">我刚开始工作时，编写代码必须使用制表符缩进，并且要把制表符设置为四个字符空间。那个时候，还没有什么 IDE 可以依赖，大家都使用 vi 编辑器编写代码。缺省的，vi 制表符使用八个字符空间。所以，那个时候我们看代码的第一件事，就是看看 vi 配置有没有把制表符设置为四个字符空间。 要不然的话，代码就凌乱得找不到头绪。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">现在，OpenJDK 的代码里已经不允许存在制表符了，缩进统一使用四个空格。也有的缩进规范使用两个空格，或者八个空格。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">上面的 CodingFormat 例子中，我们使用了四个空格作为一个缩进单元。下面，我们看看两个空格的缩进，以及八个空格的缩进效果。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">两个空格的缩进：
</span></span></code></pre></td></tr></table>
</div>
</div><p>package coding;</p>
<p>public class CodingFormat {
  public static void main(String[] args) {
    System.out.println(
        &ldquo;German say hello with &quot; + Greeting.GERMAN.getGreeting());
    }</p>
<p>  private static enum Greeting {
    ENGLISH     (&ldquo;English&rdquo;,  &ldquo;Hello&rdquo;),
    SPANISH     (&ldquo;Spanish&rdquo;,  &ldquo;Hola&rdquo;),
    GERMAN      (&ldquo;German&rdquo;,   &ldquo;Hallo&rdquo;),
    MANDARIN    (&ldquo;Mandarin&rdquo;, &ldquo;Ni Hao&rdquo;);</p>
<p>    private final String language;
    private final String greeting;</p>
<p>    private Greeting(String language, String greeting) {
      this.language = language;
      this.greeting = greeting;
    }</p>
<p>    private String getGreeting() {
      return greeting;
    }</p>
<p>    private String getLanguage() {
      return language;
    }
  }
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">两个空格的缩进，可以为每一行语句释放出更多的空间，从而减少换行，方便我们使用较长标识符或者语句。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">两个空格的缩进，视觉上，缩进线靠得太近，相对而言，更容易混淆代码的分块级别。这是两个空格缩进的一个小缺点。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">我们再来看下八个空格的缩进：
</span></span></code></pre></td></tr></table>
</div>
</div><p>package coding;</p>
<p>public class CodingFormat {
        public static void main(String[] args) {
                System.out.println(
                        &ldquo;German say hello with &quot;
                        + Greeting.GERMAN.getGreeting());
        }</p>
<p>        private static enum Greeting {
                ENGLISH     (&ldquo;English&rdquo;,  &ldquo;Hello&rdquo;),
                SPANISH     (&ldquo;Spanish&rdquo;,  &ldquo;Hola&rdquo;),
                GERMAN      (&ldquo;German&rdquo;,   &ldquo;Hallo&rdquo;),
                MANDARIN    (&ldquo;Mandarin&rdquo;, &ldquo;Ni Hao&rdquo;);</p>
<p>                private final String language;
                private final String greeting;</p>
<p>                private Greeting(String language, String greeting) {
                        this.language = language;
                        this.greeting = greeting;
                }</p>
<p>                private String getGreeting() {
                        return greeting;
                }</p>
<p>                private String getLanguage() {
                        return language;
                }
        }
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">八个空格的缩进，视觉上可以看到缩进线明显，缩进的级别也容易辨认。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">但过多的缩进空格也有缺点。它很容易超过每行字数的限制，比如屏幕每行可容纳字符的限制。特别是当我们使用较长标识符或者语句的时候，如果每行字符空间较小（手机屏幕），就很容易导致自动换行，让代码变得难以阅读。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">另外，如果我们使用八个空格作为一个缩进单元，为了代码的整洁性，我们往往会被迫使用最少的缩进嵌套，这也导致了额外的复杂性，可读性就降低了。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">由于我们倾向于使用有准确意义的命名，标识符的长度往往是一个不能忽视的因素。现在的编码规范，四个空格的缩进最为常见，二个空格的缩进次之，八个空格的缩进使用的较少。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">同行内代码块空格区隔
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">我们上面讲的都是不同行的代码该如何注意格式。位于同一行内的代码块，同样需要注意。我们可以使用空格区分开不同的逻辑单元。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">比如，逗号分隔符后要使用空格，以区分开下一个信息：
</span></span></code></pre></td></tr></table>
</div>
</div><p>String firstName, lastName;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">双目运算符或者多目运算符，运算符前后都要使用空格：
</span></span></code></pre></td></tr></table>
</div>
</div><p>firstName != null</p>
<p>(firstName != null) &amp;&amp; (lastName != null)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">一行一个行为
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">上面我们讨论了代码块的一些整理办法。 那对于每一行代码，有没有整理办法呢?
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">当然是有的。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">一个重要的原则是，每一行代码仅仅表示一个行为。这样每一行的代码才是一个常规大小的、可以识别的基础信息块。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">比如说，下面的这行代码就包含了两个行为，一个是判断行为，一个是执行行为。 两个行为放在一行，这样的代码不仅看起来有些乱，我们的大脑处理起来也有些懵。
</span></span></code></pre></td></tr></table>
</div>
</div><p>if (variable != null) variable.doSomething();</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">如果分隔开这两个行为，信息块的区隔会更明显，代码会更清晰：
</span></span></code></pre></td></tr></table>
</div>
</div><p>if (variable != null) {
    variable.doSomething();
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">一般一个完整的表达式可以看作是一个独立的行为。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">编辑器的宽度，屏幕的宽度，都是有限制的。当一个完整的表达式比较长时，就需要换行。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">基本的换行原则
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">我们前面讨论的代码分块的基本思想，同样适用于换行。基本的换行规范需要考虑以下三点。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">每行代码字符数的限制。一般情况下，每行代码不要超出 80 个字符（ 80 个字符是传统终端的宽度，比如 vi 编译器）。由于屏幕尺寸和代码阅读终端的变化，现在的很多规范，开始使用 120 个字符的限制。所以我们编码的时候，需要留意一下；
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">如果一行不足以容纳一个表达式，就需要换行；
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">一般的换行原则包括以下五点。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">在逗号后换行。
</span></span></code></pre></td></tr></table>
</div>
</div><p>String variable = anObject.getSomething(longExpressionOne,
        longExpressionTwo, longExpressionThree);</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">在操作符前换行。
</span></span></code></pre></td></tr></table>
</div>
</div><p>String varibale = longStringOne + longStringTwo
        + longStringThree;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">高级别的换行优先。
</span></span></code></pre></td></tr></table>
</div>
</div><p>anObject.methodOne(parameterForMethodOne,
        anObject.methodTwo(parameterForMethodTwo));</p>
<p>/ conventional indentation
int runningMiles = runningSpeedOne * runningTimeOne
                 + runningSpeedTwo * runningTimeTwo;</p>
<p>// confusing indentation                           
int runningMiles = runningSpeedOne
       * runningTimeOne + runningSpeedTwo
       * runningTimeTwo;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">新的换行与上一行同级别表达式的开头对齐。
</span></span></code></pre></td></tr></table>
</div>
</div><p>anObject.methodOne(parameterOne,
                   parameterTwo,
                   parameterTwo);</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">如果上述规则导致代码混乱或者代码太靠右，使用 8 个空格作为缩进（两个缩进单位）。
</span></span></code></pre></td></tr></table>
</div>
</div><p>anObject.methodOne(parameterForMethodOne,
        anObject.methodTwo(parameterOneForMethodTwo,
                parameterTwoForMethodTwo,
                parameterThreeForMethodTwo));</p>
<p>// bad indentation
if ((conditionOne &amp;&amp; conditionTwo)
    || (conditionThree &amp;&amp; conditionFour)) {
    doSomething();  
}</p>
<p>// a better indentation, using 8 spaces for the indentation
if ((conditionOne &amp;&amp; conditionTwo)
        || (conditionThree &amp;&amp; conditionFour)) {
    doSomething();  
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">小结
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">今天，我给你讲了整理代码的重要性以及一些方法。其实归根结底，整理代码有一个基本的思想，那就是把代码分割成大脑能够有效识别并记忆的信息块，通过合理地使用空行、空格和缩进，把这些信息块清晰地呈现出来。清晰的代码结构，可以帮助我们理顺编码的思路，提高编码的效率，减少编码的错误，提高代码的可读性，降低代码的维护成本。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">总之，整理代码带给我们的好处，是很多的。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">一起来动手
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">还记得我们上一节的练习题吗？上次我们改名字，这次我们来修改一下代码的编排。欢迎你把优化的代码公布在讨论区，也可以写下你的优化思路，我们一起来看看编排优化后的代码是不是更好阅读了呢？
</span></span></code></pre></td></tr></table>
</div>
</div><p>import java.util.HashMap;
import java.util.Map;</p>
<p>class Solution {
    /**
     * Given an array of integers, return indices of the two numbers
     * such that they add up to a specific target.
     */
    public int[] twoSum(int[] nums, int target) {
        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();
        for (int i = 0; i &lt; nums.length; i++) {
            int complement = target - nums[i];
            if (map.containsKey(complement)) {
                return new int[] { map.get(complement), i };
            }
            map.put(nums[i], i);
        }
        throw new IllegalArgumentException(&ldquo;No two sum solution&rdquo;);
    }
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">欢迎你把这篇文章分享给你的朋友或者同事，一起来探讨吧！
</span></span></code></pre></td></tr></table>
</div>
</div>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        10100-01-10
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E4%BB%A3%E7%A0%81%E7%B2%BE%E8%BF%9B%E4%B9%8B%E8%B7%AF/">代码精进之路</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/python%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8A%9E%E5%85%AC%E5%AE%9E%E6%88%98%E8%AF%BE/07%E6%98%A5%E8%8A%82%E7%89%B9%E5%88%AB%E6%94%BE%E9%80%812%E7%94%A8%E8%87%AA%E9%A1%B6%E8%87%B3%E5%BA%95%E7%9A%84%E6%80%9D%E8%B7%AF%E8%A7%A3%E5%86%B3%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1%E9%97%AE%E9%A2%98/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">07春节特别放送2｜用自顶至底的思路解决数据统计问题</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%9845%E8%AE%B2/07%E5%AD%A6%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%A6%81%E6%8E%8C%E6%8F%A1%E5%93%AA%E4%BA%9B%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/">
            <span class="next-text nav-default">07学数据分析要掌握哪些基本概念</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2024 - 
    2025<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-FVZ07KBD4X"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-FVZ07KBD4X');
        }
      </script>






</body>
</html>
