<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>第36讲：如何将用户故事转化为测试用例？ - Docs</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="你好，我是敏捷测试专栏讲师朱少民，欢迎进入第 36 讲“如何将用户故事转化为测试用例？”
背景
单纯的用户故事是不具有可测试性的，如果让用户故事具有可测试性，这就需要增加验收标准。例如在第 20 讲，我们就举了一个例子说明：
" /><meta name="keywords" content="技术文档, docs, 极客时间" />






<meta name="generator" content="Hugo 0.140.2 with theme even" />


<link rel="canonical" href="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E9%AB%98%E6%95%88%E6%95%8F%E6%8D%B7%E6%B5%8B%E8%AF%9549%E8%AE%B2/%E7%AC%AC36%E8%AE%B2%E5%A6%82%E4%BD%95%E5%B0%86%E7%94%A8%E6%88%B7%E6%95%85%E4%BA%8B%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E9%AB%98%E6%95%88%E6%95%8F%E6%8D%B7%E6%B5%8B%E8%AF%9549%E8%AE%B2/%E7%AC%AC36%E8%AE%B2%E5%A6%82%E4%BD%95%E5%B0%86%E7%94%A8%E6%88%B7%E6%95%85%E4%BA%8B%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/">
  <meta property="og:site_name" content="Docs">
  <meta property="og:title" content="第36讲：如何将用户故事转化为测试用例？">
  <meta property="og:description" content="你好，我是敏捷测试专栏讲师朱少民，欢迎进入第 36 讲“如何将用户故事转化为测试用例？”
背景
单纯的用户故事是不具有可测试性的，如果让用户故事具有可测试性，这就需要增加验收标准。例如在第 20 讲，我们就举了一个例子说明：">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:tag" content="高效敏捷测试49讲">

  <meta itemprop="name" content="第36讲：如何将用户故事转化为测试用例？">
  <meta itemprop="description" content="你好，我是敏捷测试专栏讲师朱少民，欢迎进入第 36 讲“如何将用户故事转化为测试用例？”
背景
单纯的用户故事是不具有可测试性的，如果让用户故事具有可测试性，这就需要增加验收标准。例如在第 20 讲，我们就举了一个例子说明：">
  <meta itemprop="datePublished" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="2988">
  <meta itemprop="keywords" content="高效敏捷测试49讲">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="第36讲：如何将用户故事转化为测试用例？">
  <meta name="twitter:description" content="你好，我是敏捷测试专栏讲师朱少民，欢迎进入第 36 讲“如何将用户故事转化为测试用例？”
背景
单纯的用户故事是不具有可测试性的，如果让用户故事具有可测试性，这就需要增加验收标准。例如在第 20 讲，我们就举了一个例子说明：">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Docs</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Docs</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">第36讲：如何将用户故事转化为测试用例？</h1>

      <div class="post-meta">
        <span class="post-time"> 10100-01-10 </span>
        <div class="post-category">
            <a href="/categories/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/"> 极客时间 </a>
            </div>
          <span class="more-meta"> 约 2988 字 </span>
          <span class="more-meta"> 预计阅读 6 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents"></nav>
  </div>
</div>
    <div class="post-content">
      <p>你好，我是敏捷测试专栏讲师朱少民，欢迎进入第 36 讲“如何将用户故事转化为测试用例？”</p>
<p>背景</p>
<p>单纯的用户故事是不具有可测试性的，如果让用户故事具有可测试性，这就需要增加验收标准。例如在第 20 讲，我们就举了一个例子说明：</p>
<p>用户故事：作为这家购物网站的买家，我要通过商品名称查询历史订单，这样我就能查看某个订单的详细信息。</p>
<p>如果不加验收标准，就会有很多疑问，此时这个用户故事是不可验证的，因此需要为用户故事增加相关的验收标准（Acceptance Criteria，AC）：</p>
<p>缺省是查询过去一年的历史订单；</p>
<p>如果没查到，问用户是否选择一个查询的时段，不选择就退出；</p>
<p>用户可以选择任意的起始时间、结束时间，但起始时间最早不早于 10 年前，跨度不超过 3 年；</p>
<p>支持模糊查询；</p>
<p>按匹配度来排序，而不是按时间排序；</p>
<p>每页最多显示十个记录；</p>
<p>查到后只显示订单号、商品名称、价格和日期；</p>
<p>如果想继续看，再点击订单查看详情。</p>
<p>之后，我们又讨论了 BDD，进一步将用户故事的验收标准转换为场景，那上面这个用户故事如何转变为场景呢？</p>
<p>转换为场景</p>
<p>用户故事是描述特定用户的行为，而行为是不会发生在真空中的，一定是发生在特定的场景中，而且不同的场景其行为的表现是不一样的。这里，用户角色是“买家”，其行为是：输入某个关键字进行查询。对于这个行为，会有哪些使用场景呢？</p>
<p>在上面验收标准中，第4～8条看起来不像应用场景，而是对输出提出的要求，即有助于我们建立测试用例的期望结果。但仔细研究后，既然是验证标准，就一定是测试的验证点，其中也是可以转化为应用场景。这就像等价类划分和边界值分析方法，不仅适合系统输入的应用，而且也适合系统输出的应用。更准确地说，从测试充分性看，不仅要覆盖系统输入数据的等价类和边界值，而且要覆盖系统输出结果的等价类和边界值。所以上面的验证标准，可以转换成下列的应用场景：</p>
<p>只输入关键字，没选择时间段，且查到几项结果；</p>
<p>只输入关键字，没选择时间段，且查到几项结果，然后点击其中一项，仔细查看内容，最后退出；</p>
<p>只输入关键字，没选择时间段，且查到几项结果，然后点击其中一项，仔细查看内容，感觉还不是自己所需的结果，返回来，点击结果中的另一项，再仔细查看内容；</p>
<p>只输入关键字，没选择时间段，且查到很多项的结果；</p>
<p>只输入关键字，没选择时间段，且没有查询结果；</p>
<p>输入关键字，并且选择了一个有效的时间段；</p>
<p>输入关键字，但选择了一个无效的时间段；</p>
<p>什么都没输，直接点查询。</p>
<p>这就是“查询”这个动作的应用场景。如果只是进行手工的探索式测试，到这一步就可以了。在执行过程中，测试人员会一边执行一边探索新的应用场景，实际上所执行的测试会超过上面 8 种场景。但如果进行自动化测试，工具还无法按照上面的描述执行测试，或者说，在这样的描述下还无法完成自动化测试脚本的开发。</p>
<p>场景离测试用例还差一步</p>
<p>那缺少什么呢？</p>
<p>例如，第一个场景，输入关键字，一定要明确具体的字符串，比如输入“敏捷测试”，查询买“敏捷测试“这一类书的订单。其中还谈到：查到几项结果、查到很多项结果，究竟是多少项内容，还是不清楚，就无法构造已有的订单数据为这项测试服务。上面还谈到选择了一个有效的时间段，究竟是哪一天到哪一天？</p>
<p>所以，基于“查询”行为而列出场景的话，还不够，需要加上测试数据，才真正生成我们所需的测试用例，开发相应的自动化脚本、实现自动化测试。上面的“敏捷测试”是测试数据，为了测试的充分性，则需要引入等价类划分和边界值分析等方法，确定所需的测试数据集。例如：</p>
<p>关键字数据，包括“敏捷测试”、“敏捷 测试”、“/敏捷测试”、“\敏捷测试”、 “|敏捷测试”、“&lt;敏捷测试&gt;”、“”、“ ”等；</p>
<p>构造测试数据，使查询的结果正好只有 1 条、10 条、11 条等（主要是验证分页对不对）；</p>
<p>有效的时间段，包括只有一天、起始时间正好十年、时段正好 3 年等，假定今天是 2020 年 5 月 4 日，那么需要构造这些测试数据，如“2020 年 5 月 1 日～2020 年 5 月 1 日”、 “2010 年 5 月 5 日～2011 年 5 月 1 日”、 “2017 年 5 月 1 日～2020 年 4 月 30 日”等；</p>
<p>无效的时间段，还是假定今天是 2020 年 5 月 4 日，就需要构造测试数据，如“2020 年 5 月 3 日～2020 年 5 月 1 日”、 “2010 年 5 月 3 日～2011 年 5 月 2 日”、 “2017 年 5 月 1 日～2020 年 5 月 2 日”等。</p>
<p>这样，之前的场景加上这些测试数据，这个用户故事的测试用例就算真正完成了。经过这样一个过程，就是为了告诉你，其实在敏捷开发中，如果实施良好的 ATDD（验收测试驱动开发），测试用例生成是一件容易的事，测试不应该成为敏捷开发中的瓶颈。虽然之前的调查显示：测试是敏捷开发持续交付的最大瓶颈，那是因为没有推行 ATDD 或 BDD。</p>
<p>用户故事转化为测试用例的模型</p>
<p>为了更好地说明这个问题，创建了“用户故事转化为测试用例的模型”，如图 1 所示，最顶层是业务需求，可以理解为一个产品的业务需求。一个产品的业务需求可以被分解成业务特性，特性比 Epic 还大（根据第 22 讲中图 2 所表述的，但又有人认为 Epic 是产品的完整故事或完整的业务故事）。但是，如果系统规模不太大、不太复杂，也没有必要分那么多层，例如之前所介绍的在线教育 App 就没有这么多层，这时可以把 Epic 那一层看作和“特性”是同一层。这样：</p>
<p>在线教育 App 的需求分解为“课程发现、账户管理、课程购买、课程学习和课程分享”等特性，这个层次可以对应特性团队，即跨职能或称为全功能的团队；</p>
<p>以“课程学习”特性为例，它可分解为“已购课程管理、课程留言、课程评分、学习笔记、收藏”等用户故事（参考第 34 讲图 1），用户故事就是敏捷开发中需求描述的最基本形式，但仅仅只有用户故事，那是不可测的；</p>
<p>这里以“已购课程管理”用户故事为例，它可以进一步分解为“从未购买课程、只购买了专栏课程、只购买了视频课程、购买了专栏课程和视频课程&hellip;&hellip;”等一系列场景；只有分别确定了在这些场景下，用户点了“已够”按钮，会呈现什么样的结果，用户故事才具有可测试性；也就是在设计、编程前为每个用户故事加上验收标准，即做到了 ATDD；当以场景作为验收标准时，ATDD 即是行为驱动开发 BDD，虽然到了这个层次，用户故事具有可测试性，但离测试用例还有一步之遥；</p>
<p>针对每个场景加上测试数据，如只购买了 1、2 门专栏课程。这样，我们就得到所需的测试用例，可以开发相应的自动化测试脚本。</p>
<p>从图 1，你也可以感受到，如果功能特性做到 100% 覆盖是根本没有意义的。例如，在线教育 App，我们只要设计 5 个测试用例，为“课程发现、账户管理、课程购买、课程学习和课程分享”中每个特性分配一个测试用例，就做到了功能特性 100% 覆盖，但没有丝毫意义。</p>
<p>所以，我们必须将功能特性进行分解，且分解到不能分解为止，我们再设计测试用例覆盖最后一层的测试点，这样的覆盖率数据就有意义了。从特性、用户故事到场景、测试数据的分解过程，在敏捷开发中就很自然、一气呵成，容易高效地完成测试设计。如果做到了 ATDD/BDD，即当我们做好了敏捷的需求工作——在需求上达成共识且具有可测试性，这时只离测试用例只差一步了，而在此基础上，加上测试数据又相对简单，也就是让敏捷测试变成了一项简单的工作，所以在敏捷开发中，我们应尽力去推动 ATDD 或 BDD 的实施。</p>
<p>这一讲就学到这里，你也可以针对在线教育 App 的另一个特性，比如“账户管理”，完成这样测试设计的过程，以巩固本讲所学的内容。</p>
<p>-&ndash; ### 精选评论</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        10100-01-10
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E9%AB%98%E6%95%88%E6%95%8F%E6%8D%B7%E6%B5%8B%E8%AF%9549%E8%AE%B2/">高效敏捷测试49讲</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E7%AC%AC36%E8%AE%B2_%E5%A6%82%E4%BD%95%E5%88%B6%E4%BD%9C%E6%B8%B8%E6%88%8F%E5%86%85%E5%AE%B9%E4%BF%9D%E5%AD%98%E5%92%8C%E7%BC%93%E5%AD%98%E5%A4%84%E7%90%86/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">第36讲_如何制作游戏内容保存和缓存处理？</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E5%88%86%E5%B8%83%E5%BC%8F%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%9845%E8%AE%B2/%E7%AC%AC36%E8%AE%B2%E5%A4%B1%E6%95%88%E7%AD%96%E7%95%A5%E7%BC%93%E5%AD%98%E8%BF%87%E6%9C%9F%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E7%AD%96%E7%95%A5/">
            <span class="next-text nav-default">第36讲：失效策略：缓存过期都有哪些策略？</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2024 - 
    2025<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-FVZ07KBD4X"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-FVZ07KBD4X');
        }
      </script>






</body>
</html>
