<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>37__浏览器API（小实验）：动手整理全部API - Docs</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="你好，我是 winter。今天我们来讲讲浏览器 API。
浏览器的 API 数目繁多，我们在之前的课程中，已经一起学习了其中几个比较有体系的部分：比如之前讲到过的 DOM 和 CSSOM 等等。但是，如果你留意过，会发现我们讲到的 API 仍然是标准中非常小的一部分。
" /><meta name="keywords" content="技术文档, docs, 极客时间" />






<meta name="generator" content="Hugo 0.140.2 with theme even" />


<link rel="canonical" href="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/37__%E6%B5%8F%E8%A7%88%E5%99%A8api%E5%B0%8F%E5%AE%9E%E9%AA%8C%E5%8A%A8%E6%89%8B%E6%95%B4%E7%90%86%E5%85%A8%E9%83%A8api/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/37__%E6%B5%8F%E8%A7%88%E5%99%A8api%E5%B0%8F%E5%AE%9E%E9%AA%8C%E5%8A%A8%E6%89%8B%E6%95%B4%E7%90%86%E5%85%A8%E9%83%A8api/">
  <meta property="og:site_name" content="Docs">
  <meta property="og:title" content="37__浏览器API（小实验）：动手整理全部API">
  <meta property="og:description" content="你好，我是 winter。今天我们来讲讲浏览器 API。
浏览器的 API 数目繁多，我们在之前的课程中，已经一起学习了其中几个比较有体系的部分：比如之前讲到过的 DOM 和 CSSOM 等等。但是，如果你留意过，会发现我们讲到的 API 仍然是标准中非常小的一部分。">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:tag" content="重学前端">

  <meta itemprop="name" content="37__浏览器API（小实验）：动手整理全部API">
  <meta itemprop="description" content="你好，我是 winter。今天我们来讲讲浏览器 API。
浏览器的 API 数目繁多，我们在之前的课程中，已经一起学习了其中几个比较有体系的部分：比如之前讲到过的 DOM 和 CSSOM 等等。但是，如果你留意过，会发现我们讲到的 API 仍然是标准中非常小的一部分。">
  <meta itemprop="datePublished" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="2912">
  <meta itemprop="keywords" content="重学前端">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="37__浏览器API（小实验）：动手整理全部API">
  <meta name="twitter:description" content="你好，我是 winter。今天我们来讲讲浏览器 API。
浏览器的 API 数目繁多，我们在之前的课程中，已经一起学习了其中几个比较有体系的部分：比如之前讲到过的 DOM 和 CSSOM 等等。但是，如果你留意过，会发现我们讲到的 API 仍然是标准中非常小的一部分。">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Docs</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Docs</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">37__浏览器API（小实验）：动手整理全部API</h1>

      <div class="post-meta">
        <span class="post-time"> 10100-01-10 </span>
        <div class="post-category">
            <a href="/categories/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/"> 极客时间 </a>
            </div>
          <span class="more-meta"> 约 2912 字 </span>
          <span class="more-meta"> 预计阅读 6 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#dom-中的元素构造器">DOM 中的元素构造器</a></li>
        <li><a href="#window-对象上的属性">Window 对象上的属性</a></li>
        <li><a href="#其它属性">其它属性</a>
          <ul>
            <li><a href="#ecmascript-2018-internationalization-api">ECMAScript 2018 Internationalization API</a></li>
            <li><a href="#streams-标准">Streams 标准</a></li>
            <li><a href="#webgl">WebGL</a></li>
            <li><a href="#web-audio-api">Web Audio API</a></li>
            <li><a href="#encoding-标准">Encoding 标准</a></li>
            <li><a href="#web-background-synchronization">Web Background Synchronization</a></li>
            <li><a href="#web-cryptography-api">Web Cryptography API</a></li>
            <li><a href="#media-source-extensions">Media Source Extensions</a></li>
            <li><a href="#the-screen-orientation-api">The Screen Orientation API</a></li>
          </ul>
        </li>
        <li><a href="#结语">结语</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>你好，我是 winter。今天我们来讲讲浏览器 API。</p>
<p>浏览器的 API 数目繁多，我们在之前的课程中，已经一起学习了其中几个比较有体系的部分：比如之前讲到过的 DOM 和 CSSOM 等等。但是，如果你留意过，会发现我们讲到的 API 仍然是标准中非常小的一部分。</p>
<p>这里，我们不可能把课程变成一本厚厚的 API 参考手册，所以这一节课，我设计了一个实验，我们一起来给 API 分分类。</p>
<p>我们按照每个 API 所在的标准来分类。所以，我们用代码来反射浏览器环境中全局对象的属性，然后我们用 JavaScript 的 filter 方法来逐步过滤掉已知的属性。</p>
<p>接下来，我们整理 API 的方法如下：</p>
<ul>
<li>从 Window 的属性中，找到 API 名称；</li>
<li>查阅 MDN 或者 Google，找到 API 所在的标准；</li>
<li>阅读标准，手工或者用代码整理出标准中包含的 API；</li>
<li>用代码在 Window 的属性中过滤掉标准中涉及的 API。</li>
</ul>
<p>重复这个过程，我们可以找到所有的 API 对应的标准。首先我们先把前面已经讲过的 API 过滤掉。</p>
<p>##JavaScript 中规定的 API</p>
<p>大部分的 API 属于 Window 对象（或者说全局对象），我们可以用反射来看一看现行浏览器中已经实现的 API，我这里使用 Mac 下的 Chrome 72.0.3626.121 版本。</p>
<p>我们首先调用 Object.getOwnPropertyNames(window)。在我的环境中，可以看到，共有 821 个属性。</p>
<p>这里包含了 JavaScript 标准规定的属性，我们做一下过滤：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    let js = new Set();
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    let objects = [&#34;BigInt&#34;, &#34;BigInt64Array&#34;, &#34;BigUint64Array&#34;, &#34;Infinity&#34;, &#34;NaN&#34;, &#34;undefined&#34;, &#34;eval&#34;, &#34;isFinite&#34;, &#34;isNaN&#34;, &#34;parseFloat&#34;, &#34;parseInt&#34;, &#34;decodeURI&#34;, &#34;decodeURIComponent&#34;, &#34;encodeURI&#34;, &#34;encodeURIComponent&#34;, &#34;Array&#34;, &#34;Date&#34;, &#34;RegExp&#34;, &#34;Promise&#34;, &#34;Proxy&#34;, &#34;Map&#34;, &#34;WeakMap&#34;, &#34;Set&#34;, &#34;WeakSet&#34;, &#34;Function&#34;, &#34;Boolean&#34;, &#34;String&#34;, &#34;Number&#34;, &#34;Symbol&#34;, &#34;Object&#34;, &#34;Error&#34;, &#34;EvalError&#34;, &#34;RangeError&#34;, &#34;ReferenceError&#34;, &#34;SyntaxError&#34;, &#34;TypeError&#34;, &#34;URIError&#34;, &#34;ArrayBuffer&#34;, &#34;SharedArrayBuffer&#34;, &#34;DataView&#34;, &#34;Float32Array&#34;, &#34;Float64Array&#34;, &#34;Int8Array&#34;, &#34;Int16Array&#34;, &#34;Int32Array&#34;, &#34;Uint8Array&#34;, &#34;Uint16Array&#34;, &#34;Uint32Array&#34;, &#34;Uint8ClampedArray&#34;, &#34;Atomics&#34;, &#34;JSON&#34;, &#34;Math&#34;, &#34;Reflect&#34;, &#34;escape&#34;, &#34;unescape&#34;];
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    objects.forEach(o =&gt; js.add(o));
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    let names = Object.getOwnPropertyNames(window)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    names = names.filter(e =&gt; !js.has(e));
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>这一部分我们已经在 JavaScript 部分讲解过了（JavaScript 对象：你知道全部的对象分类吗），所以这里我就采用手工的方式过滤出来。</p>
<h2 id="dom-中的元素构造器">DOM 中的元素构造器</h2>
<p>接下来我们看看已经讲过的 DOM 部分，DOM 部分包含了 document 属性和一系列的构造器，我们可以用 JavaScript 的 prototype 来过滤构造器。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    names = names.filter( e =&gt; {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        try { 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            return !(window[e].prototype instanceof Node)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        } catch(err) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            return true;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    }).filter( e =&gt; e != &#34;Node&#34;)
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里我们把所有 Node 的子类都过滤掉，再把 Node 本身也过滤掉，这是非常大的一批了。</p>
<h2 id="window-对象上的属性">Window 对象上的属性</h2>
<p>接下来我们要找到 Window 对象的定义，我们在下面链接中可以找到。</p>
<ul>
<li><a href="https://html.spec.whatwg.org/#window">https://html.spec.whatwg.org/#window</a></li>
</ul>
<p>这里有一个 Window 接口，是使用 WebIDL 定义的，我们手工把其中的函数和属性整理出来，如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">window</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="n">document</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">location</span><span class="p">,</span><span class="n">history</span><span class="p">,</span><span class="n">customElements</span><span class="p">,</span><span class="n">locationbar</span><span class="p">,</span><span class="n">menubar</span><span class="p">,</span> <span class="n">personalbar</span><span class="p">,</span><span class="n">scrollbars</span><span class="p">,</span><span class="n">statusbar</span><span class="p">,</span><span class="n">toolbar</span><span class="p">,</span><span class="n">status</span><span class="p">,</span><span class="n">close</span><span class="p">,</span><span class="n">closed</span><span class="p">,</span><span class="n">stop</span><span class="p">,</span><span class="n">focus</span><span class="p">,</span> <span class="n">blur</span><span class="p">,</span><span class="n">frames</span><span class="p">,</span><span class="n">length</span><span class="p">,</span><span class="n">top</span><span class="p">,</span><span class="n">opener</span><span class="p">,</span><span class="n">parent</span><span class="p">,</span><span class="n">frameElement</span><span class="p">,</span><span class="n">open</span><span class="p">,</span><span class="n">navigator</span><span class="p">,</span><span class="n">applicationCache</span><span class="p">,</span><span class="n">alert</span><span class="p">,</span><span class="n">confirm</span><span class="p">,</span><span class="n">prompt</span><span class="p">,</span><span class="nb">print</span><span class="p">,</span><span class="n">postMessage</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来，我们编写代码，把这些函数和属性，从浏览器 Window 对象的属性中去掉，JavaScript 代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">let</span> <span class="n">names</span> <span class="o">=</span> <span class="ne">Object</span><span class="o">.</span><span class="n">getOwnPropertyNames</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">let</span> <span class="n">js</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Set</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">let</span> <span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;BigInt&#34;</span><span class="p">,</span> <span class="s2">&#34;BigInt64Array&#34;</span><span class="p">,</span> <span class="s2">&#34;BigUint64Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Infinity&#34;</span><span class="p">,</span> <span class="s2">&#34;NaN&#34;</span><span class="p">,</span> <span class="s2">&#34;undefined&#34;</span><span class="p">,</span> <span class="s2">&#34;eval&#34;</span><span class="p">,</span> <span class="s2">&#34;isFinite&#34;</span><span class="p">,</span> <span class="s2">&#34;isNaN&#34;</span><span class="p">,</span> <span class="s2">&#34;parseFloat&#34;</span><span class="p">,</span> <span class="s2">&#34;parseInt&#34;</span><span class="p">,</span> <span class="s2">&#34;decodeURI&#34;</span><span class="p">,</span> <span class="s2">&#34;decodeURIComponent&#34;</span><span class="p">,</span> <span class="s2">&#34;encodeURI&#34;</span><span class="p">,</span> <span class="s2">&#34;encodeURIComponent&#34;</span><span class="p">,</span> <span class="s2">&#34;Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Date&#34;</span><span class="p">,</span> <span class="s2">&#34;RegExp&#34;</span><span class="p">,</span> <span class="s2">&#34;Promise&#34;</span><span class="p">,</span> <span class="s2">&#34;Proxy&#34;</span><span class="p">,</span> <span class="s2">&#34;Map&#34;</span><span class="p">,</span> <span class="s2">&#34;WeakMap&#34;</span><span class="p">,</span> <span class="s2">&#34;Set&#34;</span><span class="p">,</span> <span class="s2">&#34;WeakSet&#34;</span><span class="p">,</span> <span class="s2">&#34;Function&#34;</span><span class="p">,</span> <span class="s2">&#34;Boolean&#34;</span><span class="p">,</span> <span class="s2">&#34;String&#34;</span><span class="p">,</span> <span class="s2">&#34;Number&#34;</span><span class="p">,</span> <span class="s2">&#34;Symbol&#34;</span><span class="p">,</span> <span class="s2">&#34;Object&#34;</span><span class="p">,</span> <span class="s2">&#34;Error&#34;</span><span class="p">,</span> <span class="s2">&#34;EvalError&#34;</span><span class="p">,</span> <span class="s2">&#34;RangeError&#34;</span><span class="p">,</span> <span class="s2">&#34;ReferenceError&#34;</span><span class="p">,</span> <span class="s2">&#34;SyntaxError&#34;</span><span class="p">,</span> <span class="s2">&#34;TypeError&#34;</span><span class="p">,</span> <span class="s2">&#34;URIError&#34;</span><span class="p">,</span> <span class="s2">&#34;ArrayBuffer&#34;</span><span class="p">,</span> <span class="s2">&#34;SharedArrayBuffer&#34;</span><span class="p">,</span> <span class="s2">&#34;DataView&#34;</span><span class="p">,</span> <span class="s2">&#34;Float32Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Float64Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Int8Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Int16Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Int32Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Uint8Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Uint16Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Uint32Array&#34;</span><span class="p">,</span> <span class="s2">&#34;Uint8ClampedArray&#34;</span><span class="p">,</span> <span class="s2">&#34;Atomics&#34;</span><span class="p">,</span> <span class="s2">&#34;JSON&#34;</span><span class="p">,</span> <span class="s2">&#34;Math&#34;</span><span class="p">,</span> <span class="s2">&#34;Reflect&#34;</span><span class="p">,</span> <span class="s2">&#34;escape&#34;</span><span class="p">,</span> <span class="s2">&#34;unescape&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">objects</span><span class="o">.</span><span class="n">forEach</span><span class="p">(</span><span class="n">o</span> <span class="o">=&gt;</span> <span class="n">js</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">names</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">e</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="n">js</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">e</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="n">names</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">try</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="n">window</span><span class="p">[</span><span class="n">e</span><span class="p">]</span><span class="o">.</span><span class="n">prototype</span> <span class="n">instanceof</span> <span class="ne">Node</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="n">catch</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="bp">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">})</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">e</span> <span class="o">=&gt;</span> <span class="n">e</span> <span class="o">!=</span> <span class="s2">&#34;Node&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="n">let</span> <span class="n">windowprops</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Set</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;window&#34;</span><span class="p">,</span> <span class="s2">&#34;self&#34;</span><span class="p">,</span> <span class="s2">&#34;document&#34;</span><span class="p">,</span> <span class="s2">&#34;name&#34;</span><span class="p">,</span> <span class="s2">&#34;location&#34;</span><span class="p">,</span> <span class="s2">&#34;history&#34;</span><span class="p">,</span> <span class="s2">&#34;customElements&#34;</span><span class="p">,</span> <span class="s2">&#34;locationbar&#34;</span><span class="p">,</span> <span class="s2">&#34;menubar&#34;</span><span class="p">,</span> <span class="s2">&#34; personalbar&#34;</span><span class="p">,</span> <span class="s2">&#34;scrollbars&#34;</span><span class="p">,</span> <span class="s2">&#34;statusbar&#34;</span><span class="p">,</span> <span class="s2">&#34;toolbar&#34;</span><span class="p">,</span> <span class="s2">&#34;status&#34;</span><span class="p">,</span> <span class="s2">&#34;close&#34;</span><span class="p">,</span> <span class="s2">&#34;closed&#34;</span><span class="p">,</span> <span class="s2">&#34;stop&#34;</span><span class="p">,</span> <span class="s2">&#34;focus&#34;</span><span class="p">,</span> <span class="s2">&#34; blur&#34;</span><span class="p">,</span> <span class="s2">&#34;frames&#34;</span><span class="p">,</span> <span class="s2">&#34;length&#34;</span><span class="p">,</span> <span class="s2">&#34;top&#34;</span><span class="p">,</span> <span class="s2">&#34;opener&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">,</span> <span class="s2">&#34;frameElement&#34;</span><span class="p">,</span> <span class="s2">&#34;open&#34;</span><span class="p">,</span> <span class="s2">&#34;navigator&#34;</span><span class="p">,</span> <span class="s2">&#34;applicationCache&#34;</span><span class="p">,</span> <span class="s2">&#34;alert&#34;</span><span class="p">,</span> <span class="s2">&#34;confirm&#34;</span><span class="p">,</span> <span class="s2">&#34;prompt&#34;</span><span class="p">,</span> <span class="s2">&#34;print&#34;</span><span class="p">,</span> <span class="s2">&#34;postMessage&#34;</span><span class="p">,</span> <span class="s2">&#34;console&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">objects</span><span class="o">.</span><span class="n">forEach</span><span class="p">(</span><span class="n">o</span> <span class="o">=&gt;</span> <span class="n">windowprops</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">names</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">e</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="n">windowprops</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">e</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们还要过滤掉所有的事件，也就是 on 开头的属性。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">names = names.filter( e =&gt; !e.match(/^on/))
</span></span></code></pre></td></tr></table>
</div>
</div><p>webkit 前缀的私有属性我们也过滤掉：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">names = names.filter( e =&gt; !e.match(/^webkit/))
</span></span></code></pre></td></tr></table>
</div>
</div><p>除此之外，我们在 HTML 标准中还能找到所有的接口，这些我们也过滤掉：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="n">let</span> <span class="n">interfaces</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Set</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;ApplicationCache&#34;</span><span class="p">,</span> <span class="s2">&#34;AudioTrack&#34;</span><span class="p">,</span> <span class="s2">&#34;AudioTrackList&#34;</span><span class="p">,</span> <span class="s2">&#34;BarProp&#34;</span><span class="p">,</span> <span class="s2">&#34;BeforeUnloadEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;BroadcastChannel&#34;</span><span class="p">,</span> <span class="s2">&#34;CanvasGradient&#34;</span><span class="p">,</span> <span class="s2">&#34;CanvasPattern&#34;</span><span class="p">,</span> <span class="s2">&#34;CanvasRenderingContext2D&#34;</span><span class="p">,</span> <span class="s2">&#34;CloseEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;CustomElementRegistry&#34;</span><span class="p">,</span> <span class="s2">&#34;DOMStringList&#34;</span><span class="p">,</span> <span class="s2">&#34;DOMStringMap&#34;</span><span class="p">,</span> <span class="s2">&#34;DataTransfer&#34;</span><span class="p">,</span> <span class="s2">&#34;DataTransferItem&#34;</span><span class="p">,</span> <span class="s2">&#34;DataTransferItemList&#34;</span><span class="p">,</span> <span class="s2">&#34;DedicatedWorkerGlobalScope&#34;</span><span class="p">,</span> <span class="s2">&#34;Document&#34;</span><span class="p">,</span> <span class="s2">&#34;DragEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;ErrorEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;EventSource&#34;</span><span class="p">,</span> <span class="s2">&#34;External&#34;</span><span class="p">,</span> <span class="s2">&#34;FormDataEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;HTMLAllCollection&#34;</span><span class="p">,</span> <span class="s2">&#34;HashChangeEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;History&#34;</span><span class="p">,</span> <span class="s2">&#34;ImageBitmap&#34;</span><span class="p">,</span> <span class="s2">&#34;ImageBitmapRenderingContext&#34;</span><span class="p">,</span> <span class="s2">&#34;ImageData&#34;</span><span class="p">,</span> <span class="s2">&#34;Location&#34;</span><span class="p">,</span> <span class="s2">&#34;MediaError&#34;</span><span class="p">,</span> <span class="s2">&#34;MessageChannel&#34;</span><span class="p">,</span> <span class="s2">&#34;MessageEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;MessagePort&#34;</span><span class="p">,</span> <span class="s2">&#34;MimeType&#34;</span><span class="p">,</span> <span class="s2">&#34;MimeTypeArray&#34;</span><span class="p">,</span> <span class="s2">&#34;Navigator&#34;</span><span class="p">,</span> <span class="s2">&#34;OffscreenCanvas&#34;</span><span class="p">,</span> <span class="s2">&#34;OffscreenCanvasRenderingContext2D&#34;</span><span class="p">,</span> <span class="s2">&#34;PageTransitionEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;Path2D&#34;</span><span class="p">,</span> <span class="s2">&#34;Plugin&#34;</span><span class="p">,</span> <span class="s2">&#34;PluginArray&#34;</span><span class="p">,</span> <span class="s2">&#34;PopStateEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;PromiseRejectionEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;RadioNodeList&#34;</span><span class="p">,</span> <span class="s2">&#34;SharedWorker&#34;</span><span class="p">,</span> <span class="s2">&#34;SharedWorkerGlobalScope&#34;</span><span class="p">,</span> <span class="s2">&#34;Storage&#34;</span><span class="p">,</span> <span class="s2">&#34;StorageEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;TextMetrics&#34;</span><span class="p">,</span> <span class="s2">&#34;TextTrack&#34;</span><span class="p">,</span> <span class="s2">&#34;TextTrackCue&#34;</span><span class="p">,</span> <span class="s2">&#34;TextTrackCueList&#34;</span><span class="p">,</span> <span class="s2">&#34;TextTrackList&#34;</span><span class="p">,</span> <span class="s2">&#34;TimeRanges&#34;</span><span class="p">,</span> <span class="s2">&#34;TrackEvent&#34;</span><span class="p">,</span> <span class="s2">&#34;ValidityState&#34;</span><span class="p">,</span> <span class="s2">&#34;VideoTrack&#34;</span><span class="p">,</span> <span class="s2">&#34;VideoTrackList&#34;</span><span class="p">,</span> <span class="s2">&#34;WebSocket&#34;</span><span class="p">,</span> <span class="s2">&#34;Window&#34;</span><span class="p">,</span> <span class="s2">&#34;Worker&#34;</span><span class="p">,</span> <span class="s2">&#34;WorkerGlobalScope&#34;</span><span class="p">,</span> <span class="s2">&#34;WorkerLocation&#34;</span><span class="p">,</span> <span class="s2">&#34;WorkerNavigator&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">objects</span><span class="o">.</span><span class="n">forEach</span><span class="p">(</span><span class="n">o</span> <span class="o">=&gt;</span> <span class="n">interfaces</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="n">names</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">e</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="n">interfaces</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">e</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> 
</span></span></code></pre></td></tr></table>
</div>
</div><p>这样过滤之后，我们已经过滤掉了所有的事件、Window 对象、JavaScript 全局对象和 DOM 相关的属性，但是，竟然还剩余了很多属性！你是不是很惊讶呢？好了，接下来我们才进入今天的正题。</p>
<h2 id="其它属性">其它属性</h2>
<p>这些既不属于 Window 对象，又不属于 JavaScript 语言的 Global 对象的属性，它们究竟是什么呢？</p>
<p>我们可以一个一个来查看这些属性，来发现一些我们以前没有关注过的标准。</p>
<p>首先，我们要把过滤的代码做一下抽象，写成一个函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">function filterOut(names, props) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    let set = new Set();
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    props.forEach(o =&gt; set.add(o));
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    return names.filter(e =&gt; !set.has(e));
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>每次执行完 filter 函数，都会剩下一些属性，接下来，我们找到剩下的属性来看一看。</p>
<h3 id="ecmascript-2018-internationalization-api">ECMAScript 2018 Internationalization API</h3>
<p>在我的浏览器环境中，第一个属性是：Intl。</p>
<p>查找这些属性来历的最佳文档是 MDN，当然，你也可以使用 Google。</p>
<p>总之，经过查阅，我发现，它属于 ECMA402 标准，这份标准是 JavaScript 的一个扩展，它包含了国际化相关的内容：</p>
<ul>
<li><a href="http://www.ecma-international.org/ecma-402/5.0/index.html#Title">http://www.ecma-international.org/ecma-402/5.0/index.html#Title</a></li>
</ul>
<p>ECMA402 中，只有一个全局属性 Intl，我们也把它过滤掉：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">names = names.filter(e =&gt; e != &#34;Intl&#34;)
</span></span></code></pre></td></tr></table>
</div>
</div><p>再来看看还有什么属性。</p>
<h3 id="streams-标准">Streams 标准</h3>
<p>接下来我看到的属性是：ByteLengthQueuingStrategy。</p>
<p>同样经过查阅，它来自 WHATWG 的 Streams 标准：<br>
<a href="https://streams.spec.whatwg.org/#blqs-class">https://streams.spec.whatwg.org/#blqs-class</a></p>
<p>不过，跟 ECMA402 不同，Streams 标准中还有一些其它属性，这里我手工查阅了这份标准，并做了整理。</p>
<p>接下来，我们用代码把它们跟 ByteLengthQueuingStrategy 一起过滤掉：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">names = filterOut(names, [&#34;ReadableStream&#34;, &#34;ReadableStreamDefaultReader&#34;, &#34;ReadableStreamBYOBReader&#34;, &#34;ReadableStreamDefaultController&#34;, &#34;ReadableByteStreamController&#34;, &#34;ReadableStreamBYOBRequest&#34;, &#34;WritableStream&#34;, &#34;WritableStreamDefaultWriter&#34;, &#34;WritableStreamDefaultController&#34;, &#34;TransformStream&#34;, &#34;TransformStreamDefaultController&#34;, &#34;ByteLengthQueuingStrategy&#34;, &#34;CountQueuingStrategy&#34;]);
</span></span></code></pre></td></tr></table>
</div>
</div><p>好了，过滤之后，又少了一些属性，我们继续往下看。</p>
<h3 id="webgl">WebGL</h3>
<p>接下来我看到的属性是：WebGLContext​Event。</p>
<p>显然，这个属性来自 WebGL 标准：</p>
<ul>
<li><a href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15">https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15</a></li>
</ul>
<p>我们在这份标准中找到了一些别的属性，我们把它一起过滤掉：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">names = filterOut(names, [&#34;WebGLContextEvent&#34;,&#34;WebGLObject&#34;, &#34;WebGLBuffer&#34;, &#34;WebGLFramebuffer&#34;, &#34;WebGLProgram&#34;, &#34;WebGLRenderbuffer&#34;, &#34;WebGLShader&#34;, &#34;WebGLTexture&#34;, &#34;WebGLUniformLocation&#34;, &#34;WebGLActiveInfo&#34;, &#34;WebGLShaderPrecisionFormat&#34;, &#34;WebGLRenderingContext&#34;]);
</span></span></code></pre></td></tr></table>
</div>
</div><p>过滤掉 WebGL，我们继续往下看。</p>
<h3 id="web-audio-api">Web Audio API</h3>
<p>下一个属性是 WaveShaperNode。这个属性名听起来就跟声音有关，这个属性来自 W3C 的 Web Audio API 标准。</p>
<p>我们来看一下标准：</p>
<ul>
<li><a href="https://www.w3.org/TR/webaudio/">https://www.w3.org/TR/webaudio/</a></li>
</ul>
<p>Web Audio API 中有大量的属性，这里我用代码做了过滤。得到了以下列表：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[&#34;AudioContext&#34;, &#34;AudioNode&#34;, &#34;AnalyserNode&#34;, &#34;AudioBuffer&#34;, &#34;AudioBufferSourceNode&#34;, &#34;AudioDestinationNode&#34;, &#34;AudioParam&#34;, &#34;AudioListener&#34;, &#34;AudioWorklet&#34;, &#34;AudioWorkletGlobalScope&#34;, &#34;AudioWorkletNode&#34;, &#34;AudioWorkletProcessor&#34;, &#34;BiquadFilterNode&#34;, &#34;ChannelMergerNode&#34;, &#34;ChannelSplitterNode&#34;, &#34;ConstantSourceNode&#34;, &#34;ConvolverNode&#34;, &#34;DelayNode&#34;, &#34;DynamicsCompressorNode&#34;, &#34;GainNode&#34;, &#34;IIRFilterNode&#34;, &#34;MediaElementAudioSourceNode&#34;, &#34;MediaStreamAudioSourceNode&#34;, &#34;MediaStreamTrackAudioSourceNode&#34;, &#34;MediaStreamAudioDestinationNode&#34;, &#34;PannerNode&#34;, &#34;PeriodicWave&#34;, &#34;OscillatorNode&#34;, &#34;StereoPannerNode&#34;, &#34;WaveShaperNode&#34;, &#34;ScriptProcessorNode&#34;, &#34;AudioProcessingEvent&#34;]
</span></span></code></pre></td></tr></table>
</div>
</div><p>于是我们把它们也过滤掉：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> names = filterOut(names, [&#34;AudioContext&#34;, &#34;AudioNode&#34;, &#34;AnalyserNode&#34;, &#34;AudioBuffer&#34;, &#34;AudioBufferSourceNode&#34;, &#34;AudioDestinationNode&#34;, &#34;AudioParam&#34;, &#34;AudioListener&#34;, &#34;AudioWorklet&#34;, &#34;AudioWorkletGlobalScope&#34;, &#34;AudioWorkletNode&#34;, &#34;AudioWorkletProcessor&#34;, &#34;BiquadFilterNode&#34;, &#34;ChannelMergerNode&#34;, &#34;ChannelSplitterNode&#34;, &#34;ConstantSourceNode&#34;, &#34;ConvolverNode&#34;, &#34;DelayNode&#34;, &#34;DynamicsCompressorNode&#34;, &#34;GainNode&#34;, &#34;IIRFilterNode&#34;, &#34;MediaElementAudioSourceNode&#34;, &#34;MediaStreamAudioSourceNode&#34;, &#34;MediaStreamTrackAudioSourceNode&#34;, &#34;MediaStreamAudioDestinationNode&#34;, &#34;PannerNode&#34;, &#34;PeriodicWave&#34;, &#34;OscillatorNode&#34;, &#34;StereoPannerNode&#34;, &#34;WaveShaperNode&#34;, &#34;ScriptProcessorNode&#34;, &#34;AudioProcessingEvent&#34;]);
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们继续看下一个属性。</p>
<h3 id="encoding-标准">Encoding 标准</h3>
<p>在我的环境中，下一个属性是 TextDecoder，经过查阅得知，这个属性也来自一份 WHATWG 的标准，Encoding：</p>
<ul>
<li><a href="https://encoding.spec.whatwg.org/#dom-textencoder">https://encoding.spec.whatwg.org/#dom-textencoder</a></li>
</ul>
<p>这份标准仅仅包含四个接口，我们把它们过滤掉：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">names = filterOut(names, [&#34;TextDecoder&#34;, &#34;TextEncoder&#34;, &#34;TextDecoderStream&#34;, &#34;TextEncoderStream&#34;]);
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们继续来看下一个属性。</p>
<h3 id="web-background-synchronization">Web Background Synchronization</h3>
<p>下一个属性是 SyncManager，这个属性比较特殊，它并没有被标准化，但是我们仍然可以找到它的来源文档：</p>
<ul>
<li><a href="https://wicg.github.io/BackgroundSync/spec/#sync-manager-interface">https://wicg.github.io/BackgroundSync/spec/#sync-manager-interface</a></li>
</ul>
<p>这个属性我们就不多说了，过滤掉就好了。</p>
<h3 id="web-cryptography-api">Web Cryptography API</h3>
<p>我们继续看下去，下一个属性是 SubtleCrypto，这个属性来自 Web Cryptography API，也是 W3C 的标准。</p>
<ul>
<li><a href="https://www.w3.org/TR/WebCryptoAPI/">https://www.w3.org/TR/WebCryptoAPI/</a></li>
</ul>
<p>这份标准中规定了三个 Class 和一个 Window 对象的扩展，给 Window 对象添加了一个属性 crypto。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">names = filterOut(names, [&#34;CryptoKey&#34;, &#34;SubtleCrypto&#34;, &#34;Crypto&#34;, &#34;crypto&#34;]);
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们继续来看。</p>
<h3 id="media-source-extensions">Media Source Extensions</h3>
<p>下一个属性是 SourceBufferList，它来自于：</p>
<ul>
<li><a href="https://www.w3.org/TR/media-source/">https://www.w3.org/TR/media-source/</a></li>
</ul>
<p>这份标准中包含了三个接口，这份标准还扩展了一些接口，但是没有扩展 window。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">names = filterOut(names, [&#34;MediaSource&#34;, &#34;SourceBuffer&#34;, &#34;SourceBufferList&#34;]);
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们继续看下一个属性。</p>
<h3 id="the-screen-orientation-api">The Screen Orientation API</h3>
<p>下一个属性是 ScreenOrientation，它来自 W3C 的 The Screen Orientation API 标准：</p>
<ul>
<li><a href="https://www.w3.org/TR/screen-orientation/">https://www.w3.org/TR/screen-orientation/</a></li>
</ul>
<p>它里面只有 ScreenOrientation 一个接口，也是可以过滤掉的。</p>
<h2 id="结语">结语</h2>
<p>到 Screen Orientation API，我这里看到还剩 300 余个属性没有处理，剩余部分，我想把它留给大家自己来完成。</p>
<p>我们可以看到，在整理 API 的过程中，我们可以找到各种不同组织的标准，比如：</p>
<ul>
<li>ECMA402 标准来自 ECMA；</li>
<li>Encoding 标准来自 WHATWG；</li>
<li>WebGL 标准来自 Khronos；</li>
<li>Web Cryptography 标准来自 W3C；</li>
<li>还有些 API，根本没有被标准化。</li>
</ul>
<p>浏览器环境的 API，正是这样复杂的环境。我们平时编程面对的环境也是这样的一个环境。</p>
<p>所以，面对如此繁复的 API，我建议在系统掌握 DOM、CSSOM 的基础上，你可以仅仅做大概的浏览和记忆，根据实际工作需要，选择其中几个来深入学习。</p>
<p>做完这个实验，你对 Web API 的理解应该会有很大提升。</p>
<p>这一节课的问题就是完成所有的 API 到标准的归类，不同的浏览器环境应该略有不同，欢迎你把自己的结果留言一起讨论。</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/8f4f1793bde09e89aca842610affeb20.png" alt=""></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        10100-01-10
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/">重学前端</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/37__%E7%90%86%E8%A7%A3cpu_cache%E4%B8%8A4%E6%AF%AB%E7%A7%92%E7%A9%B6%E7%AB%9F%E5%80%BC%E5%A4%9A%E5%B0%91%E9%92%B1/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">37__理解CPU_Cache（上）：“4毫秒”究竟值多少钱？</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E9%9D%A2%E8%AF%95%E7%8E%B0%E5%9C%BA/37__%E9%9D%A2%E8%AF%95%E7%AD%94%E7%96%91%E4%B8%89%E5%A6%82%E4%BD%95%E6%9B%B4%E5%A5%BD%E5%9C%B0%E4%BD%93%E7%8E%B0%E4%BD%A0%E7%9A%84%E8%83%BD%E5%8A%9B/">
            <span class="next-text nav-default">37__面试答疑（三）：如何更好地体现你的能力？</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2024 - 
    2025<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-FVZ07KBD4X"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-FVZ07KBD4X');
        }
      </script>






</body>
</html>
