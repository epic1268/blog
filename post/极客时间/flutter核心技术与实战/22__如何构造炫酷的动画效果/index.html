<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>22__如何构造炫酷的动画效果？ - Docs</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="你好，我是陈航。
在上一篇文章中，我带你一起学习了 Flutter 中实现页面路由的两种方式：基本路由与命名路由，即手动创建页面进行切换，和通过前置路由注册后提供标识符进行跳转。除此之外，Flutter 还在这两种路由方式的基础上，支持页面打开和页面关闭传递参数，可以更精确地控制路由切换。
" /><meta name="keywords" content="技术文档, docs, 极客时间" />






<meta name="generator" content="Hugo 0.140.2 with theme even" />


<link rel="canonical" href="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/22__%E5%A6%82%E4%BD%95%E6%9E%84%E9%80%A0%E7%82%AB%E9%85%B7%E7%9A%84%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/22__%E5%A6%82%E4%BD%95%E6%9E%84%E9%80%A0%E7%82%AB%E9%85%B7%E7%9A%84%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/">
  <meta property="og:site_name" content="Docs">
  <meta property="og:title" content="22__如何构造炫酷的动画效果？">
  <meta property="og:description" content="你好，我是陈航。
在上一篇文章中，我带你一起学习了 Flutter 中实现页面路由的两种方式：基本路由与命名路由，即手动创建页面进行切换，和通过前置路由注册后提供标识符进行跳转。除此之外，Flutter 还在这两种路由方式的基础上，支持页面打开和页面关闭传递参数，可以更精确地控制路由切换。">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:tag" content="Flutter核心技术与实战">

  <meta itemprop="name" content="22__如何构造炫酷的动画效果？">
  <meta itemprop="description" content="你好，我是陈航。
在上一篇文章中，我带你一起学习了 Flutter 中实现页面路由的两种方式：基本路由与命名路由，即手动创建页面进行切换，和通过前置路由注册后提供标识符进行跳转。除此之外，Flutter 还在这两种路由方式的基础上，支持页面打开和页面关闭传递参数，可以更精确地控制路由切换。">
  <meta itemprop="datePublished" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="4285">
  <meta itemprop="keywords" content="Flutter核心技术与实战">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="22__如何构造炫酷的动画效果？">
  <meta name="twitter:description" content="你好，我是陈航。
在上一篇文章中，我带你一起学习了 Flutter 中实现页面路由的两种方式：基本路由与命名路由，即手动创建页面进行切换，和通过前置路由注册后提供标识符进行跳转。除此之外，Flutter 还在这两种路由方式的基础上，支持页面打开和页面关闭传递参数，可以更精确地控制路由切换。">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Docs</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Docs</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">22__如何构造炫酷的动画效果？</h1>

      <div class="post-meta">
        <span class="post-time"> 10100-01-10 </span>
        <div class="post-category">
            <a href="/categories/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/"> 极客时间 </a>
            </div>
          <span class="more-meta"> 约 4285 字 </span>
          <span class="more-meta"> 预计阅读 9 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#animationanimationcontroller-与-listener">Animation、AnimationController 与 Listener</a></li>
        <li><a href="#animatedwidget-与-animatedbuilder">AnimatedWidget 与 AnimatedBuilder</a></li>
        <li><a href="#hero-动画">hero 动画</a></li>
        <li><a href="#总结">总结</a></li>
        <li><a href="#思考题">思考题</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>你好，我是陈航。</p>
<p>在上一篇文章中，我带你一起学习了 Flutter 中实现页面路由的两种方式：基本路由与命名路由，即手动创建页面进行切换，和通过前置路由注册后提供标识符进行跳转。除此之外，Flutter 还在这两种路由方式的基础上，支持页面打开和页面关闭传递参数，可以更精确地控制路由切换。</p>
<p>通过前面第<a href="./110292.md">12</a>、<a href="./110859.md">13</a>、<a href="./110848.md">14</a>和<a href="./111673.md">15</a>篇文章的学习，我们已经掌握了开发一款样式精美的小型 App 的基本技能。但当下，用户对于终端页面的要求已经不再满足于只能实现产品功能，除了样式美观之外，还希望交互良好、有趣、自然。</p>
<p>动画就是提升用户体验的一个重要方式，一个恰当的组件动画或者页面切换动画，不仅能够缓解用户因为等待而带来的情绪问题，还会增加好感。Flutter 既然完全接管了渲染层，除了静态的页面布局之外，对组件动画的支持自然也不在话下。</p>
<p>因此在今天的这篇文章中，我会向你介绍 Flutter 中动画的实现方法，看看如何让我们的页面动起来。</p>
<h2 id="animationanimationcontroller-与-listener">Animation、AnimationController 与 Listener</h2>
<p>动画就是动起来的画面，是静态的画面根据事先定义好的规律，在一定时间内不断微调，产生变化效果。而动画实现由静止到动态，主要是靠人眼的视觉残留效应。所以，对动画系统而言，为了实现动画，它需要做三件事儿：</p>
<ol>
<li>确定画面变化的规律；</li>
<li>根据这个规律，设定动画周期，启动动画；</li>
<li>定期获取当前动画的值，不断地微调、重绘画面。</li>
</ol>
<p>这三件事情对应到 Flutter 中，就是 Animation、AnimationController 与 Listener：</p>
<ol>
<li>Animation 是 Flutter 动画库中的核心类，会根据预定规则，在单位时间内持续输出动画的当前状态。Animation 知道当前动画的状态（比如，动画是否开始、停止、前进或者后退，以及动画的当前值），但却不知道这些状态究竟应用在哪个组件对象上。换句话说，Animation 仅仅是用来提供动画数据，而不负责动画的渲染。</li>
<li>AnimationController 用于管理 Animation，可以用来设置动画的时长、启动动画、暂停动画、反转动画等。</li>
<li>Listener 是 Animation 的回调函数，用来监听动画的进度变化，我们需要在这个回调函数中，根据动画的当前值重新渲染组件，实现动画的渲染。</li>
</ol>
<p>接下来，我们看一个具体的案例：让大屏幕中间的 Flutter Logo 由小变大。</p>
<p>首先，我们初始化了一个动画周期为 1 秒的、用于管理动画的 AnimationController 对象，并用线性变化的 Tween 创建了一个变化范围从 50 到 200 的 Animaiton 对象。</p>
<p>然后，我们给这个 Animaiton 对象设置了一个进度监听器，并在进度监听器中强制界面重绘，刷新动画状态。</p>
<p>接下来，我们调用 AnimationController 对象的 forward 方法，启动动画：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="n">_AnimateAppState</span> <span class="k">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">AnimateApp</span><span class="o">&gt;</span> <span class="n">with</span> <span class="n">SingleTickerProviderStateMixin</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">AnimationController</span> <span class="n">controller</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="ne">Animation</span><span class="o">&lt;</span><span class="n">double</span><span class="o">&gt;</span> <span class="n">animation</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="err">@</span><span class="n">override</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">super</span><span class="o">.</span><span class="n">initState</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="err">创建动画周期为</span> <span class="mi">1</span> <span class="err">秒的</span> <span class="n">AnimationController</span> <span class="err">对象</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">controller</span> <span class="o">=</span> <span class="n">AnimationController</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">vsync</span><span class="p">:</span> <span class="n">this</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="k">const</span> <span class="n">Duration</span><span class="p">(</span><span class="n">milliseconds</span><span class="p">:</span> <span class="mi">1000</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="err">创建从</span> <span class="mi">50</span> <span class="err">到</span> <span class="mi">200</span> <span class="err">线性变化的</span> <span class="ne">Animation</span> <span class="err">对象</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">animation</span> <span class="o">=</span> <span class="ne">Tween</span><span class="p">(</span><span class="n">begin</span><span class="p">:</span> <span class="mf">50.0</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="mf">200.0</span><span class="p">)</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="o">..</span><span class="n">addListener</span><span class="p">(()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">setState</span><span class="p">(()</span> <span class="p">{});</span> <span class="o">//</span> <span class="err">刷新界面</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">controller</span><span class="o">.</span><span class="n">forward</span><span class="p">();</span> <span class="o">//</span> <span class="err">启动动画</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>需要注意的是，我们在创建 AnimationController 的时候，设置了一个 vsync 属性。这个属性是用来防止出现不可见动画的。vsync 对象会把动画绑定到一个 Widget，当 Widget 不显示时，动画将会暂停，当 Widget 再次显示时，动画会重新恢复执行，这样就可以避免动画的组件不在当前屏幕时白白消耗资源。</p>
<p>我们在一开始提到，Animation 只是用于提供动画数据，并不负责动画渲染，所以我们还需要在 Widget 的 build 方法中，把当前动画状态的值读出来，用于设置 Flutter Logo 容器的宽和高，才能最终实现动画效果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">@override
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">@override
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Widget build(BuildContext context) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  return MaterialApp(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    home: Center(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      child: Container(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      width: animation.value, // 将动画的值赋给 widget 的宽高
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      height: animation.value,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      child: FlutterLogo()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    )));
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>最后，别忘了在页面销毁时，要释放动画资源：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">@override
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">void dispose() {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  controller.dispose(); // 释放资源
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  super.dispose();
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们试着运行一下，可以看到，Flutter Logo 动起来了：</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/e52c54ca3508142de76ec7576f0cfe96.png" alt=""></p>
<p>图 1 动画示例</p>
<p>我们在上面用到的 Tween 默认是线性变化的，但可以创建 CurvedAnimation 来实现非线性曲线动画。CurvedAnimation 提供了很多常用的曲线，比如震荡曲线 elasticOut：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="err">创建动画周期为</span> <span class="mi">1</span> <span class="err">秒的</span> <span class="n">AnimationController</span> <span class="err">对象</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">controller</span> <span class="o">=</span> <span class="n">AnimationController</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">vsync</span><span class="p">:</span> <span class="n">this</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="k">const</span> <span class="n">Duration</span><span class="p">(</span><span class="n">milliseconds</span><span class="p">:</span> <span class="mi">1000</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="o">//</span> <span class="err">创建一条震荡曲线</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">final</span> <span class="n">CurvedAnimation</span> <span class="n">curve</span> <span class="o">=</span> <span class="n">CurvedAnimation</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">parent</span><span class="p">:</span> <span class="n">controller</span><span class="p">,</span> <span class="n">curve</span><span class="p">:</span> <span class="n">Curves</span><span class="o">.</span><span class="n">elasticOut</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="err">创建从</span> <span class="mi">50</span> <span class="err">到</span> <span class="mi">200</span> <span class="err">跟随振荡曲线变化的</span> <span class="ne">Animation</span> <span class="err">对象</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">animation</span> <span class="o">=</span> <span class="ne">Tween</span><span class="p">(</span><span class="n">begin</span><span class="p">:</span> <span class="mf">50.0</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="mf">200.0</span><span class="p">)</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行一下，可以看到 Flutter Logo 有了一个弹性动画：</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/4ce9f29e2fd8a786bb1e299a74cf173d.png" alt=""></p>
<p>图 2 CurvedAnimation 示例</p>
<p>现在的问题是，这些动画只能执行一次。如果想让它像心跳一样执行，有两个办法：</p>
<ol>
<li>在启动动画时，使用 repeat(reverse: true)，让动画来回重复执行。</li>
<li>监听动画状态。在动画结束时，反向执行；在动画反向执行完毕时，重新启动执行。</li>
</ol>
<p>具体的实现代码，如下所示：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 以下两段语句等价
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 第一段
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">controller.repeat(reverse: true);// 让动画重复执行
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> // 第二段
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">animation.addStatusListener((status) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    if (status == AnimationStatus.completed) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      controller.reverse();// 动画结束时反向执行
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    } else if (status == AnimationStatus.dismissed) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      controller.forward();// 动画反向执行完毕时，重新执行
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">});
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">controller.forward();// 启动动画
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行一下，可以看到，我们实现了 Flutter Logo 的心跳效果。</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/cb128a6acc80cfe62a6522320edadd0b.png" alt=""></p>
<p>图 3 Flutter Logo 心跳</p>
<h2 id="animatedwidget-与-animatedbuilder">AnimatedWidget 与 AnimatedBuilder</h2>
<p>在为 Widget 添加动画效果的过程中我们不难发现，Animation 仅提供动画的数据，因此我们还需要监听动画执行进度，并在回调中使用 setState 强制刷新界面才能看到动画效果。考虑到这些步骤都是固定的，Flutter 提供了两个类来帮我们简化这一步骤，即 AnimatedWidget 与 AnimatedBuilder。</p>
<p>接下来，我们分别看看这两个类如何使用。</p>
<p>在构建 Widget 时，AnimatedWidget 会将 Animation 的状态与其子 Widget 的视觉样式绑定。要使用 AnimatedWidget，我们需要一个继承自它的新类，并接收 Animation 对象作为其初始化参数。然后，在 build 方法中，读取出 Animation 对象的当前值，用作初始化 Widget 的样式。</p>
<p>下面的案例演示了 Flutter Logo 的 AnimatedWidget 版本：用 AnimatedLogo 继承了 AnimatedWidget，并在 build 方法中，把动画的值与容器的宽高做了绑定：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class AnimatedLogo extends AnimatedWidget {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  //AnimatedWidget 需要在初始化时传入 animation 对象
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  AnimatedLogo({Key key, Animation&lt;double&gt; animation})
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      : super(key: key, listenable: animation);
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   Widget build(BuildContext context) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    // 取出动画对象
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    final Animation&lt;double&gt; animation = listenable;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    return Center(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      child: Container(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        height: animation.value,// 根据动画对象的当前状态更新宽高
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        width: animation.value,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        child: FlutterLogo(),
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    ));
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>在使用时，我们只需把 Animation 对象传入 AnimatedLogo 即可，再也不用监听动画的执行进度刷新 UI 了：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">MaterialApp(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  home: Scaffold(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    body: AnimatedLogo(animation: animation)// 初始化 AnimatedWidget 时传入 animation 对象
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">));
</span></span></code></pre></td></tr></table>
</div>
</div><p>在上面的例子中，在 AnimatedLogo 的 build 方法中，我们使用 Animation 的 value 作为 logo 的宽和高。这样做对于简单组件的动画没有任何问题，但如果动画的组件比较复杂，一个更好的解决方案是，<strong>将动画和渲染职责分离</strong>：logo 作为外部参数传入，只做显示；而尺寸的变化动画则由另一个类去管理。</p>
<p>这个分离工作，我们可以借助 AnimatedBuilder 来完成。</p>
<p>与 AnimatedWidget 类似，AnimatedBuilder 也会自动监听 Animation 对象的变化，并根据需要将该控件树标记为 dirty 以自动刷新 UI。事实上，如果你翻看<a href="./transitions.dart.md#L920">源码</a>，就会发现 AnimatedBuilder 其实也是继承自 AnimatedWidget。</p>
<p>我们以一个例子来演示如何使用 AnimatedBuilder。在这个例子中，AnimatedBuilder 的尺寸变化动画由 builder 函数管理，渲染则由外部传入 child 参数负责：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">MaterialApp(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  home: Scaffold(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    body: Center(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      child: AnimatedBuilder(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        animation: animation,// 传入动画对象
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        child:FlutterLogo(),
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        // 动画构建回调
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        builder: (context, child) =&gt; Container(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          width: animation.value,// 使用动画的当前状态更新 UI
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          height: animation.value,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          child: child, //child 参数即 FlutterLogo()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        )
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      )
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    )
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">));
</span></span></code></pre></td></tr></table>
</div>
</div><p>可以看到，通过使用 AnimatedWidget 和 AnimatedBuilder，动画的生成和最终的渲染被分离开了，构建动画的工作也被大大简化了。</p>
<h2 id="hero-动画">hero 动画</h2>
<p>现在我们已经知道了如何在一个页面上实现动画效果，那么如何实现在两个页面之间切换的过渡动画呢？比如在社交类 App，在 Feed 流中点击小图进入查看大图页面的场景中，我们希望能够实现小图到大图页面逐步放大的动画切换效果，而当用户关闭大图时，也实现原路返回的动画。</p>
<p>这样的跨页面共享的控件动画效果有一个专门的名词，即“共享元素变换”（Shared Element Transition）。</p>
<p>对于 Android 开发者来说，这个概念并不陌生。Android 原生提供了对这种动画效果的支持，通过几行代码，就可以实现在两个 Activity 共享的组件之间做出流畅的转场动画。</p>
<p>又比如，Keynote 提供了的“神奇移动”（Magic Move）功能，可以实现两个 Keynote 页面之间的流畅过渡。</p>
<p>Flutter 也有类似的概念，即 Hero 控件。<strong>通过 Hero，我们可以在两个页面的共享元素之间，做出流畅的页面切换效果。</strong></p>
<p>接下来，我们通过一个案例来看看 Hero 组件具体如何使用。</p>
<p>在下面的例子中，我定义了两个页面，其中 page1 有一个位于底部的小 Flutter Logo，page2 有一个位于中部的大 Flutter Logo。在点击了 page1 的小 logo 后，会使用 hero 效果过渡到 page2。</p>
<p>为了实现共享元素变换，我们需要将这两个组件分别用 Hero 包裹，并同时为它们设置相同的 tag“hero”。然后，为 page1 添加点击手势响应，在用户点击 logo 时，跳转到 page2：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class Page1 extends StatelessWidget {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Widget build(BuildContext context) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    return  Scaffold(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      body: GestureDetector(// 手势监听点击
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        child: Hero(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          tag: &#39;hero&#39;,// 设置共享 tag
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          child: Container(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            width: 100, height: 100,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            child: FlutterLogo())),
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        onTap: () {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          Navigator.of(context).push(MaterialPageRoute(builder: (_)=&gt;Page2()));// 点击后打开第二个页面
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      )
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    );
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> class Page2 extends StatelessWidget {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  @override
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Widget build(BuildContext context) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    return  Scaffold(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      body: Hero(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        tag: &#39;hero&#39;,// 设置共享 tag
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        child: Container(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          width: 300, height: 300,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          child: FlutterLogo()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        ))
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    );
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行一下，可以看到，我们通过简单的两步，就可以实现元素跨页面飞行的复杂动画效果了！</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/86f29d19897c3bd4aac37f2d1061ca96.png" alt=""></p>
<p>图 4 Hero 动画</p>
<h2 id="总结">总结</h2>
<p>好了，今天的分享就到这里。我们简单回顾一下今天的主要内容吧。</p>
<p>在 Flutter 中，动画的状态与渲染是分离的。我们通过 Animation 生成动画曲线，使用 AnimationController 控制动画时间、启动动画。而动画的渲染，则需要设置监听器获取动画进度后，重新触发组件用新的动画状态刷新后才能实现动画的更新。</p>
<p>为了简化这一步骤，Flutter 提供了 AnimatedWidget 和 AnimatedBuilder 这两个组件，省去了状态监听和 UI 刷新的工作。而对于跨页面动画，Flutter 提供了 Hero 组件，只要两个相同（相似）的组件有同样的 tag，就能实现元素跨页面过渡的转场效果。</p>
<p>可以看到，Flutter 对于动画的分层设计还是非常简单清晰的，但造成的副作用就是使用起来稍微麻烦一些。对于实际应用而言，由于动画过程涉及到页面的频繁刷新，因此我强烈建议你尽量使用 AnimatedWidget 或 AnimatedBuilder 来缩小受动画影响的组件范围，只重绘需要做动画的组件即可，要避免使用进度监听器直接刷新整个页面，让不需要做动画的组件也跟着一起销毁重建。</p>
<p>我把今天分享中所涉及的针对控件的普通动画，AnimatedBuilder 和 AnimatedWidget，以及针对页面的过渡动画 Hero 打包到了<a href="./22%5Fapp%5Fanimation.md">GitHub</a>上，你可以把工程下载下来，多运行几次，体会这几种动画的具体使用方法。</p>
<h2 id="思考题">思考题</h2>
<p>最后，我给你留下两个小作业吧。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">AnimatedBuilder(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  animation: animation,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  child:FlutterLogo(),
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  builder: (context, child) =&gt; Container(
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    width: animation.value,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    height: animation.value,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    child: child
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  )
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">)
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>在 AnimatedBuilder 的例子中，child 似乎被指定了两遍（第 3 行的 child 与第 7 行的 child），你可以解释下这么做的原因吗？</li>
<li>如果我把第 3 行的 child 删掉，把 Flutter Logo 放到第 7 行，动画是否能正常执行？这会有什么问题吗？</li>
</ol>
<p>欢迎你在评论区给我留言分享你的观点，我会在下一篇文章中等待你！感谢你的收听，也欢迎你把这篇文章分享给更多的朋友一起阅读。</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/Flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/c35b0beb65ba6c713724c0b53ee1b6d3.png" alt=""></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        10100-01-10
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/flutter%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E6%88%98/">Flutter核心技术与实战</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90kubernetes/22__%E6%92%AC%E5%8A%A8%E7%A6%BB%E7%BA%BF%E4%B8%9A%E5%8A%A1job%E4%B8%8Ecronjob/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">22__撬动离线业务：Job与CronJob</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E6%8A%80%E6%9C%AF%E7%AE%A1%E7%90%86%E5%AE%9E%E6%88%9836%E8%AE%B2/22__%E5%A6%82%E4%BD%95%E5%BB%BA%E8%AE%BE%E5%9B%A2%E9%98%9F%E6%96%87%E5%8C%96%E8%90%A5%E9%80%A0%E5%9B%A2%E9%98%9F%E6%B0%9B%E5%9B%B4/">
            <span class="next-text nav-default">22__如何建设团队文化，营造团队氛围？</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2024 - 
    2025<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-FVZ07KBD4X"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-FVZ07KBD4X');
        }
      </script>






</body>
</html>
