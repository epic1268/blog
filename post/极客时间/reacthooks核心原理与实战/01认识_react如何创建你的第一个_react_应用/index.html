<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>01｜认识_React：如何创建你的第一个_React_应用？ - Docs</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="你好，我是王沛。欢迎来到我们的第一节课：认识 React，并创建你的第一个 React 应用。
在这一讲，我会先带你了解 React 的创新之处，从而理解为什么它能成为最为主流的前端框架。然后再来学习和理解 React 的基本概念，帮助你了解 React。最后，我会通过一个实战项目，带着你创建你的第一个 React 应用。
" /><meta name="keywords" content="技术文档, docs, 极客时间" />






<meta name="generator" content="Hugo 0.140.2 with theme even" />


<link rel="canonical" href="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/reacthooks%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/01%E8%AE%A4%E8%AF%86_react%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA_react_%E5%BA%94%E7%94%A8/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/reacthooks%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/01%E8%AE%A4%E8%AF%86_react%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA_react_%E5%BA%94%E7%94%A8/">
  <meta property="og:site_name" content="Docs">
  <meta property="og:title" content="01｜认识_React：如何创建你的第一个_React_应用？">
  <meta property="og:description" content="你好，我是王沛。欢迎来到我们的第一节课：认识 React，并创建你的第一个 React 应用。
在这一讲，我会先带你了解 React 的创新之处，从而理解为什么它能成为最为主流的前端框架。然后再来学习和理解 React 的基本概念，帮助你了解 React。最后，我会通过一个实战项目，带着你创建你的第一个 React 应用。">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:tag" content="ReactHooks核心原理与实战">

  <meta itemprop="name" content="01｜认识_React：如何创建你的第一个_React_应用？">
  <meta itemprop="description" content="你好，我是王沛。欢迎来到我们的第一节课：认识 React，并创建你的第一个 React 应用。
在这一讲，我会先带你了解 React 的创新之处，从而理解为什么它能成为最为主流的前端框架。然后再来学习和理解 React 的基本概念，帮助你了解 React。最后，我会通过一个实战项目，带着你创建你的第一个 React 应用。">
  <meta itemprop="datePublished" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="4805">
  <meta itemprop="keywords" content="ReactHooks核心原理与实战">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="01｜认识_React：如何创建你的第一个_React_应用？">
  <meta name="twitter:description" content="你好，我是王沛。欢迎来到我们的第一节课：认识 React，并创建你的第一个 React 应用。
在这一讲，我会先带你了解 React 的创新之处，从而理解为什么它能成为最为主流的前端框架。然后再来学习和理解 React 的基本概念，帮助你了解 React。最后，我会通过一个实战项目，带着你创建你的第一个 React 应用。">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Docs</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Docs</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">01｜认识_React：如何创建你的第一个_React_应用？</h1>

      <div class="post-meta">
        <span class="post-time"> 10100-01-10 </span>
        <div class="post-category">
            <a href="/categories/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/"> 极客时间 </a>
            </div>
          <span class="more-meta"> 约 4805 字 </span>
          <span class="more-meta"> 预计阅读 10 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#react-的颠覆式创新">React 的颠覆式创新</a></li>
    <li><a href="#理解-react-的基本概念">理解 React 的基本概念</a>
      <ul>
        <li><a href="#使用组件的方式描述-ui">使用组件的方式描述 UI</a></li>
        <li><a href="#使用-state-和-props-管理状态">使用 state 和 props 管理状态</a></li>
        <li><a href="#理解-jsx-语法的本质">理解 JSX 语法的本质</a></li>
      </ul>
    </li>
    <li><a href="#使用脚手架工具创建-react-应用">使用脚手架工具创建 React 应用</a></li>
    <li><a href="#实战在组件中发送请求并显示数据">实战：在组件中发送请求并显示数据</a></li>
    <li><a href="#小结">小结</a></li>
    <li><a href="#思考题">思考题</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>你好，我是王沛。欢迎来到我们的第一节课：认识 React，并创建你的第一个 React 应用。</p>
<p>在这一讲，我会先带你了解 React 的创新之处，从而理解为什么它能成为最为主流的前端框架。然后再来学习和理解 React 的基本概念，帮助你了解 React。最后，我会通过一个实战项目，带着你创建你的第一个 React 应用。</p>
<h1 id="react-的颠覆式创新">React 的颠覆式创新</h1>
<p>React 的中文含义是“反应”或“响应”，它描述了 React 这样一个前端框架的核心原理：<strong>当数据发生变化时，UI 能够自动把变化反映出来</strong>。这在 React 当时出现的背景之下，可以说是<strong>一个颠覆式的创新</strong>。</p>
<p>我之所以用“颠覆”这个词，是因为它不仅提供了一个框架，而且彻底改变了前端的开发思路，甚至电脑桌面、手机应用的开发也受到了 React 开发思路的影响。</p>
<p>在 2013 年 React 出现之时，主流的开发 UI 的方式仍然是基于浏览器 DOM 的 API，去精细地控制 DOM 节点的创建、修改和删除。为了保证 UI 上的一致性，我们需要非常小心地处理因各种数据的变化而导致的 UI 的变化。</p>
<p>举个例子。对于一个聊天应用，当来了一条新消息时，我们一方面需要在聊天框内添加一条新消息，同时也要在显示消息数量的地方让数字加 1，这样才能保证 UI 的一致性。</p>
<p>在 React 之前，我们需要调用 DOM 的 API 来修改 DOM 树的结构，从而改变 UI 的展现。而在有了 React 之后，我们只需要在业务状态和 UI 状态之间建立一个绑定的关系就行了。绑定完成后，我们就不需要再关心怎么去精细控制 UI 的变化，因为 React 会在数据发生变化时，帮助我们完成 UI 的变化。</p>
<p>下面这张图就展示了这样的一个机制：</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/ReactHooks%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/3db9a3bd47c60d8c5106e25ac03d6521.png" alt=""></p>
<p>可以看到，我们可以通过 JSX 语法，用声明式的方式来描述数据和 UI 之间的关系，那么数据在发生变化时，UI 也会自动发生变化。这样的话，无论是收到一条还是多条消息，React 都会自动完成 UI 的展现，我们也就不再需要去关心怎么产生变化的细节。那么基于同一个数据，比如我们需要在通知栏里显示消息的数量，那么显示消息数量的组件，只需要绑定到消息的长度上，它也会自动更新，这样很容易就保证 UI 上的一致性了。</p>
<p>通过我刚才对这张图的解释，你可能还会有些不理解，主要是出现了一些比较陌生的概念。别着急，接下来我就带你理解 React 的基本概念，学完之后，你会对 React 是如何工作的有更全面的认识。</p>
<h1 id="理解-react-的基本概念">理解 React 的基本概念</h1>
<p>React 本身其实是一个非常简单的框架，要理解它的用法，无外乎就是理解下面三个概念：组件、状态和 JSX。下面我们分别来看。</p>
<h2 id="使用组件的方式描述-ui">使用组件的方式描述 UI</h2>
<p>在 React 中，所有的 UI 都是通过<strong>组件</strong>去描述和组织的。可以认为，React 中所有的元素都是组件，具体而言分为两种。</p>
<ol>
<li>内置组件。内置组件其实就是<strong>映射到 HTML 节点的组件</strong>，例如 div、input、table 等等，作为一种约定，它们都是小写字母。</li>
<li>自定义组件。自定义组件其实就是<strong>自己创建的组件</strong>，使用时必须以大写字母开头，例如 TopicList、TopicDetail。</li>
</ol>
<p>和 DOM 的节点定义类似，React 组件是以<strong>树状结构</strong>组织到一起的，一个 React 的应用通常只有一个根组件。此外，在实际开发时，我们会把 UI 划分成不同的组件，然后组织到一起，例如对于下面这样一个评论框的 UI：</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/ReactHooks%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/22b568466ee9d06dea9f0d414ec4d31b.png" alt=""></p>
<p>我们可以用基于组件的方式去描述：</p>
<p>function CommentBox() {<br>
return (<br>
<div><br>
<CommentHeader /><br>
<CommentList /><br>
<CommentForm /><br>
</div><br>
);<br>
}</p>
<p>比如说评论框可以分为三个部分，包括头部、评论的列表和一个用于提交新的评论的表单，这样我们就可以把这三个部分分别定义成组件，让我们可以根据实际的场景把复杂的 UI 模块化为独立的组件。这样代码不仅看起来更加直观，而且也更容易维护。</p>
<h2 id="使用-state-和-props-管理状态">使用 state 和 props 管理状态</h2>
<p>正如我刚才提到的，React 的核心机制是能够在数据发生变化的时候自动重新渲染 UI，那么势必要有一个让我们保存状态的地方，这个保存状态的机制就是 state。而 props 就是类似于 Html 标记上属性的概念，是为了在父子组件之间传递状态。</p>
<p>在函数组件中，我们可以使用 useState 这样一个 Hook 来保存状态，那么状态在发生变化时，也会让 UI 自动发生变化。比如下面这段代码，展示了一个简单计数器的实现的例子：</p>
<p>import React from &ldquo;react&rdquo;;</p>
<p>export default function Counter() {<br>
const [count, setCount] = React.useState(0);<br>
return (<br>
<div><br>
&lt;button onClick={() =&gt; setCount(count + 1)}&gt;{count}</button><br>
</div><br>
);<br>
}</p>
<p>可以看到，通过 useState 定义这样一个状态，让这个状态来保持计数器的数值，那么在值发生变化时，组件就会自动重新刷新。这里我们先不用太关心 useState 这个 API 的细节，我在第 4 讲会有一个详细的介绍。</p>
<p>那么，现在使用了 state 来维护组件的状态，接下来要关心的就是组件之间的交互，这正是 props 提供的作用。</p>
<p>无论是 div、span 这样的内置组件，还是自定义组件，都可以在使用时把接收属性作为参数。而当这个参数发生变化时，组件也就会自动重新渲染。</p>
<p>例如，我们在计数器这个例子中使用一个组件来渲染 count 这个值，要求在值大于 10 的时候显示为红色，否则就为蓝色：</p>
<p>import React from &ldquo;react&rdquo;;</p>
<p>function CountLabel({ count }) {<br>
// 子组件用于显示颜色<br>
const color = count &gt; 10 ? &ldquo;red&rdquo; : &ldquo;blue&rdquo;;<br>
return &lt;span style={{ color }}&gt;{count}</span>;<br>
}</p>
<p>export default function Counter() {<br>
// 定义了 count 这个 state<br>
const [count, setCount] = React.useState(0);</p>
<p>return (<br>
<div><br>
&lt;button onClick={() =&gt; setCount(count + 1)}&gt;<br>
<CountLabel count={count} /><br>
</button><br>
</div><br>
);<br>
}</p>
<p>可以看到，我们定义了一个新的组件 CountLabel，在值大于 10 的时候显示红色，否则为蓝色。并且，我们还要在 Counter 组件里使用 CountLabel 这个子组件，这样的话我们就可以通过 props 把 count 这个值从父组件传递到子组件，那么在 count 发生变化时，CountLabel 也会重新渲染。此外，所有通过属性定义在这个 Tag 上的参数，都会作为一个对象传递给函数组件，这样在函数组件内部就可以使用这些参数了。</p>
<h2 id="理解-jsx-语法的本质">理解 JSX 语法的本质</h2>
<p>我们刚刚通过一个简单的例子对 React 组件有了一个比较直观的印象，但如果你之前没有接触过 React，也许会觉得在代码中同时包含 JavaScript 和 HTML 标记的写法很别扭。但这种写法其实正是 React 中的“模板语言”：JSX。</p>
<p>注意，这里的“模板语言”是加了引号的，因为从本质上来说，JSX 并不是一个新的模板语言，而可以认为是一个<strong>语法糖</strong>。也就是说，不用 JSX 的写法，其实也是能够写 React 的。这是什么意思呢？我们不妨再看一下上面计数器的例子，如果不用 JSX 应该如何写代码：</p>
<p>React.createElement(<br>
&ldquo;div&rdquo;,<br>
null,<br>
React.createElement(<br>
&ldquo;button&rdquo;,<br>
{ onClick: function onClick() {<br>
return setCount(count + 1);<br>
} },<br>
React.createElement(CountLabel, { count: count })<br>
)<br>
);</p>
<p>在这段代码中，JSX 的部分我们是用 JavaScript 的方式去实现的，并且用到了 React.createElement 这样一个 API，它的作用就是创建一个组件的实例。此外，这个 API 会接收一组参数：</p>
<ol>
<li>第一个参数表示组件的类型；</li>
<li>第二个参数是传给组件的属性，也就是 props；</li>
<li>第三个以及后续所有的参数则是子组件。</li>
</ol>
<p>所以呢，通过 createElement 这个 API，我们可以构建出需要的组件树，而 JSX 只是让这种描述变得更加直观和高效。所以我们说 JSX 其实是一种语法糖。理解这一点非常重要，因为它意味着两点：</p>
<ol>
<li>JSX 的表达能力等价于 JavaScript 的表达能力，那么所有我们可能需要的机制，比如循环、条件语句等等，JSX 其实都能灵活表达。</li>
<li>JSX 几乎不需要学习，只要你会用 JavaScript，就也会用 JSX。</li>
</ol>
<p>所以这也是 React 的“模板语言”区别于 Angluar 和 Vue 的地方，JSX 不是一个新的概念，而只是原生 JavaScript 的另一种写法。但是换成这种写法，就会大大降低你上手 React 的难度。</p>
<h1 id="使用脚手架工具创建-react-应用">使用脚手架工具创建 React 应用</h1>
<p>经过刚才的学习，我们已经对 React 有了一个基本的了解，那么现在我们就来创建一个应用，试用一下 React。</p>
<p>在实际的项目开发中，我们其实不仅需要把 React 作为 UI 层，还可能需要路由管理、状态管理等框架。与此同时，我们还需要使用最新的 JavaScript 语言特性、CSS 的预处理框架等等。所以一般需要结合 Webpack 等打包工具来使用 React。</p>
<p>完成这些配置本身就是一个比较繁琐的步骤，因此我们通常都不会从头开始创建一个项目，而是使用<strong>脚手架工具</strong>来创建一个项目。我在这里跟你介绍两个工具：</p>
<ol>
<li>一个是 codesandbox.io，主要用于学习 React，能够快速试验一些 React 的特性。</li>
<li>另一个则是 Facebook 官方提供的 create-react-app 命令行工具，用来创建一个基础的 React 项目。</li>
</ol>
<p>首先看 Codesandbox，它是一个在线的工具，可以通过 <a href="https://codesandbox.io">https://codesandbox.io</a> 访问使用。例如今天这节课所有可运行的示例代码就都是放在 Codesandbox 上的，用浏览器打开即可。你可以在线写代码，并实时查看运行的效果。使用起来其实也非常简单，打开主页后就可以看到如下页面：</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/ReactHooks%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/dcae47a3d7983d0a478eb3dc0106b254.png" alt=""></p>
<p>点击 Create Sandbox，就可以创建一个前端的应用。需要说明的是，它不仅支持 React，还能够创建 Angular、Vue 等前端框架的应用。</p>
<p>第二个 create-react-app 则是我们做正式项目开发时会使用的基本工具。它会提供一个完善的 Webpack 配置，让我们能够立刻开始使用 React、JavaScript 语言的最新特性和 CSS Module 等主流的技术方案。</p>
<p>这里要特别注意一点，create-react-app 的使用需要 Node.js 的环境，具体版本是 Node &gt;= 10.16 版本以及 npm &gt;=5.6 版本。安装好 Node.js 之后，你就可以用如下命令行来创建一个 React 应用：</p>
<p>npx create-react-app my-app<br>
cd my-app<br>
npm start</p>
<p>创建的项目结构非常简单：</p>
<ul>
<li>public</li>
<li>src
<ul>
<li>App.css</li>
<li>App.js</li>
<li>index.js</li>
<li>index.css</li>
</ul>
</li>
<li>package.json</li>
</ul>
<p>这里的 src/index.js 是程序的入口，App.js 则是整个应用程序的根组件，主要做一些配置的事情。create-react-app 创建的项目作为一个基本的模板，为我们提供的便利主要是配置好开发环境、Webpack 等等，但是它不包含 Redux 或者 Router 等非必须的功能。那么基于这个模板，我们后面的几节课会在 App.js 中添加 Redux、React Router 等配置。</p>
<h1 id="实战在组件中发送请求并显示数据">实战：在组件中发送请求并显示数据</h1>
<p>好了，我们已经对 React 有了一个大概的了解，并能够创建项目，试验代码执行的效果。现在我们来通过一个异步请求的例子，以强化对 React 的理解，这个例子也是日常开发中最为常见的需求。</p>
<p>设想这样一个场景：页面上有一个按钮，点击后，我们可以发起一个请求获取一个用户列表，并要求显示在页面上。在这个过程中，我们需要考虑数据状态，Loading 的状态，以及请求出错的处理。那么可以用下面的代码实现：</p>
<p>import React from &ldquo;react&rdquo;;</p>
<p>export default function UserList() {<br>
// 使用三个 state 分别保存用户列表，loading 状态和错误状态<br>
const [users, setUsers] = React.useState([]);<br>
const [loading, setLoading] = React.useState(false);<br>
const [error, setError] = React.useState(null);</p>
<p>// 定义获取用户的回调函数<br>
const fetchUsers = async () =&gt; {<br>
setLoading(true);<br>
try {<br>
const res = await fetch(&ldquo;<a href="https://reqres.in/api/users/%22);">https://reqres.in/api/users/&quot;);</a><br>
const json = await res.json();<br>
// 请求成功后将用户数据放入 state<br>
setUsers(json.data);<br>
} catch (err) {<br>
// 请求失败将错误状态放入 state<br>
setError(err);<br>
}<br>
setLoading(false);<br>
};</p>
<p>return (<br>
<div className="user-list"><br>
<button onClick={fetchUsers} disabled={loading}><br>
{loading ? &ldquo;Loading&hellip;&rdquo; : &ldquo;Show Users&rdquo;}<br>
</button><br>
{error &amp;&amp;<br>
&lt;div style={{ color: &ldquo;red&rdquo; }}&gt;Failed: {String(error)}</div><br>
}<br>
<br /><br>
<ul><br>
{users.length &gt; 0 &amp;&amp;<br>
users.map((user) =&gt; {<br>
return <li key={user.id}>{user.first_name}</li>;<br>
})}<br>
</ul><br>
</div><br>
);<br>
}</p>
<p>程序的运行结果如下图所示：</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/ReactHooks%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/8f82b3dcdc8343738e0c0c420f06e069.png" alt=""></p>
<p>当点击 Show Users 按钮时，会显示 Loading 的文本，并将 button 设为 disabled。请求成功后，则显示获取的用户列表。如果请求失败，则显示一段错误信息的文本。</p>
<p>在 React 组件中，任何一个 state 发生变化时，整个函数组件其实是被完全执行一遍的，而且除了 state，多次的执行之间没有任何关系。所以在考虑这样一个场景的实现时，我们的思考方式就是要首先考虑这个组件有哪些状态（state），这些状态的变化是由什么触发的，从而将整个功能串联起来。</p>
<p>当然，这个例子只是一个最简单的实现，但如果你细究一下，应该还会提出下面的问题：</p>
<ol>
<li>函数中定义了回调函数 fetchUsers，但函数每次都是全部重新执行，那会不会重复定义很多次呢？</li>
<li>如果另外一个组件可能也需要使用到 Users 这个数据，比如一个下拉框，那么是不是每次都要重复这个发起请求的逻辑呢？</li>
</ol>
<p>这其实正是后面的课程会解决的问题，我在这里先简单回答下：</p>
<ol>
<li>是的，这种写法会重复定义很多函数。不过为了避免这样的问题，React 提供了 useCallback 这样一个 Hook 来缓存回调函数，关于这一问题，我在第 4 讲会有详细的讲解。</li>
<li>对于异步请求逻辑的重用，这其实也意味着跨组件状态的重用，我会在第 7 讲利用 Redux 这样一个全局状态管理框架来实现异步逻辑的复用。</li>
</ol>
<h1 id="小结">小结</h1>
<p>React 本身其实是一个上手非常简单的 UI 框架，它的核心 API 在这节课我们基本都已经用到了，比如函数组件，JSX，useState，等等。但是 React 本身毕竟只是解决了 UI 的问题，在真正开发时，我们还需要路由、需要状态管理等等，这也正是后续课程中会介绍的。</p>
<p>不过也正是因为 React 本身的这种纯粹和简单，让它的整个生态圈变得非常繁荣。针对每一个具体的问题，可能都存在特定的解决方案。所以在实际使用中，我们需要根据具体的需求，来寻求最合适的方案。</p>
<p>最后，我把这节课用到的例子链接放在这里，供你参考。</p>
<p>计数器的例子：https://codesandbox.io/s/admiring-christian-20vzg?file=/src/01/Counter.js</p>
<p>异步请求的例子： <a href="https://codesandbox.io/s/admiring-christian-20vzg?file=/src/01/UserList.js">https://codesandbox.io/s/admiring-christian-20vzg?file=/src/01/UserList.js</a></p>
<h1 id="思考题">思考题</h1>
<p>作为第一讲的思考题，我先来提一个开放式的问题。在你看来，React 最打动你的特性是什么？或者说你认为它的最大优点有哪些？</p>
<p>欢迎在留言区写下你的思考和想法，我们一起交流讨论。如果今天的内容让你有所收获，也欢迎你把课程分享给你的同事、朋友，我们一起共同进步！</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        10100-01-10
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/reacthooks%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/">ReactHooks核心原理与实战</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E6%89%8B%E6%9C%BA%E6%91%84%E5%BD%B1/01%E6%8B%8D%E6%91%84%E5%89%8D%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%81%9A%E4%BB%80%E4%B9%88/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">01｜拍摄前，我们需要做什么？</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%9330%E8%AE%B2/01%E4%BB%80%E4%B9%88%E6%98%AF%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/">
            <span class="next-text nav-default">01｜什么是分布式数据库？</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2024 - 
    2025<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-FVZ07KBD4X"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-FVZ07KBD4X');
        }
      </script>






</body>
</html>
