<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>第9讲_如何绘制游戏背景？ - Docs</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="我在之前的文章中描述了各种基础知识，然后梳理了开发流程，并带你创建了一个窗体，现在我们要做的就是朝这个窗体里添加东西。
我会随着进度逐渐提升难度。就现阶段来讲，我们涉及的只是一些基础知识，并且只需要将大部分的关注点放在我们要做的游戏内容上，并不需要关注过多的底层逻辑代码。
" /><meta name="keywords" content="技术文档, docs, 极客时间" />






<meta name="generator" content="Hugo 0.140.2 with theme even" />


<link rel="canonical" href="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E7%AC%AC9%E8%AE%B2_%E5%A6%82%E4%BD%95%E7%BB%98%E5%88%B6%E6%B8%B8%E6%88%8F%E8%83%8C%E6%99%AF/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="https://politcloud.org/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E7%AC%AC9%E8%AE%B2_%E5%A6%82%E4%BD%95%E7%BB%98%E5%88%B6%E6%B8%B8%E6%88%8F%E8%83%8C%E6%99%AF/">
  <meta property="og:site_name" content="Docs">
  <meta property="og:title" content="第9讲_如何绘制游戏背景？">
  <meta property="og:description" content="我在之前的文章中描述了各种基础知识，然后梳理了开发流程，并带你创建了一个窗体，现在我们要做的就是朝这个窗体里添加东西。
我会随着进度逐渐提升难度。就现阶段来讲，我们涉及的只是一些基础知识，并且只需要将大部分的关注点放在我们要做的游戏内容上，并不需要关注过多的底层逻辑代码。">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-01-10T00:00:00+00:00">
    <meta property="article:tag" content="从0开始学游戏开发">

  <meta itemprop="name" content="第9讲_如何绘制游戏背景？">
  <meta itemprop="description" content="我在之前的文章中描述了各种基础知识，然后梳理了开发流程，并带你创建了一个窗体，现在我们要做的就是朝这个窗体里添加东西。
我会随着进度逐渐提升难度。就现阶段来讲，我们涉及的只是一些基础知识，并且只需要将大部分的关注点放在我们要做的游戏内容上，并不需要关注过多的底层逻辑代码。">
  <meta itemprop="datePublished" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-01-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="2921">
  <meta itemprop="keywords" content="从0开始学游戏开发">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="第9讲_如何绘制游戏背景？">
  <meta name="twitter:description" content="我在之前的文章中描述了各种基础知识，然后梳理了开发流程，并带你创建了一个窗体，现在我们要做的就是朝这个窗体里添加东西。
我会随着进度逐渐提升难度。就现阶段来讲，我们涉及的只是一些基础知识，并且只需要将大部分的关注点放在我们要做的游戏内容上，并不需要关注过多的底层逻辑代码。">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Docs</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Docs</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">第9讲_如何绘制游戏背景？</h1>

      <div class="post-meta">
        <span class="post-time"> 10100-01-10 </span>
        <div class="post-category">
            <a href="/categories/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/"> 极客时间 </a>
            </div>
          <span class="more-meta"> 约 2921 字 </span>
          <span class="more-meta"> 预计阅读 6 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#小结">小结</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>我在之前的文章中描述了各种基础知识，然后梳理了开发流程，并带你创建了一个窗体，现在我们要做的就是朝这个窗体里添加东西。</p>
<p>我会随着进度逐渐提升难度。就现阶段来讲，我们涉及的只是一些基础知识，并且只<strong>需要将大部分的关注点放在我们要做的游戏内容上，并不需要关注过多的底层逻辑代码</strong>。</p>
<p>做事情都有先后顺序，做游戏开发自然也是。为什么要学习先绘制游戏背景而不是别的什么，很简单，因为只有先绘制了游戏背景，才能进行后续的游戏图像遮挡、图形图像的显示等等操作。</p>
<p>不管你有没有玩过《超级玛丽》《魂斗罗》《雷电》之类的游戏，但一定对其画面不陌生。和我们要开始做的打飞机游戏一样，这种类型的 2D 游戏，其背景不是左右卷轴，就是上下卷轴。<strong>所谓左右卷轴，就是游戏画面是横向的、左右运动的，而上下卷轴就是游戏画面是竖直对的、上下运动的。</strong></p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/ecaa22b306473c3f0ba67ff947d4cb30.png" alt=""></p>
<p>像《雷电》这样的经典飞机游戏，就是属于上下卷轴的。上下卷轴的飞机游戏有一个特点，就是它是在空中，从凌驾于飞机之上的视角，往地面俯瞰的。因为是俯视角，所以我们可以很方便地看到游戏的整体地图，包括地面上的敌人、空中的敌人等等，层次感会很强。</p>
<p>因此，可以确定，我们要做的打飞机，也是一个上下卷轴的游戏。这样，我们就可以着手将需要的图片添加进去了。</p>
<p>我们要使用 Pygame，先读取一个图片，让该图片成为游戏背景并载入进去。当下阶段，我们的图片从哪儿获得并不重要，因为在一个完整的游戏开发团队里面，都有专业的美术团队负责作图，但是现在我们没有，所以我就自己贴一幅图来代替正式的游戏背景。所以你现在只需要知道背景是如何贴上去的就好了。</p>
<p>和前面的文章说过的一样，我们需要先载入 Pygame 模块，并且定义一个变量 background。我们将一幅名为 lake,jpg 的图片文件赋值给 backgroud 变量。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import pygame
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">background = &#39;lake.jpg&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后，我们先把 Pygame 的所有组件都初始化。接下来，我们调用 display 类里的 set_mode 函数来对屏幕进行一个初始化。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">pygame.init()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">screen = pygame.display.set_mode((640, 480), 0, 32)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">pygame.display.set_caption(&#34;pygame game&#34;)
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里一共有三个参数，第一个参数是<strong>分辨率</strong>，比如我这里编写的是 640x480 的分辨率；第二个参数是<strong>flag</strong>，flag 的参数我放在下面这个表里了；第三个参数是<strong>32</strong>，32 代表的是颜色深度，这里是 32 位的意思。</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/2dccc392496198ca6e39a40dbf7d7031.png" alt=""></p>
<p>在设置完了窗体模式之后，后面的一段代码就是设置窗体的抬头文字，这里显示的是 pygame game。</p>
<p>随后，我们要载入背景的图片。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">bg</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">background</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>我在前面的文章中也说过，这句话的意义是，载入 backgroud 图片。但是 pygame.image.load 这个函数返回的是一个 surface，而.convert 函数是来自于 surface 对象。你可以参考下面的代码来理解。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">surface_temp</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">background</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">bg</span> <span class="o">=</span> <span class="n">surface_temp</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其次，bg 这个变量也是一个 surface，而 convert 函数的作用是改变一副图片的像素格式。convert 有四个相同名字的重载函数。如果就像我们的代码里所示，convert 没有任何参数，则表示直接返回一个 surface 对象。</p>
<p>好了，现在我们设置完了背景 bg 的 surface，我们按照上面的文章，开始写一个大循环，并且在循环里面进行检测鼠标事件是不是退出操作，这是最基本的一项检测。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">while True:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    for event in pygame.event.get():
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        if event.type == QUIT:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            pygame.quit()
</span></span></code></pre></td></tr></table>
</div>
</div><p>和前面的文章一样，我们从 event 里取出事件列表，然后把每一个 event 的类型进行对比，如果发现有 QUIT 事件（鼠标点击 X 关闭按钮后），就直接退出游戏。完成这一步之后，就可以开始使用 blit 函数进行绘制屏幕的操作。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">screen.blit(bg, (0,0))
</span></span></code></pre></td></tr></table>
</div>
</div><p>这句话的意思是，使用 blit 将 bg 在以游戏屏幕 x,y 轴为（0,0）的坐标位置在 screen 对象上绘制背景图像。然后我们需要 update 刷新屏幕，添加下面这行代码。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">pygame.display.update()
</span></span></code></pre></td></tr></table>
</div>
</div><p>upadate 这个函数是 pygame.display.flip 函数的优化版。因为 pygame,display.flip 是更新整块屏幕，所以如果加载的资源多，效率并不是很高，而 update 如果传递一个矩形值得参数的话，它会只更新这块矩形的内容，所以效率会比较高，但是不传递参数的话，默认还是会更新整块屏幕，但是这个函数不能用在 set_mode 的时候设置为 OpenGL 的模式下。</p>
<p>好了，我们该做的事情基本都做完了，现在我们来运行一下，看看效果。</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/d20641b54640f89b3a768f1c76a85875.png" alt=""></p>
<p>好了，背景是贴上去了。现在问题来了，要想让背景动起来该怎么做呢？如果在 blit 的时候，改变坐标是不是就可以移动背景图的位置了呢？你再开动脑筋想想，该怎么做才能让背景移动起来？</p>
<p>对的，我们只需要写一个循环，就可以将背景移动起来。</p>
<p>我们来修改一下大循环开始的代码。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">y_move = 0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">while True:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    for event in pygame.event.get():
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        if event.type == QUIT:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            pygame.quit()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    screen.blit(bg, (0,y_move))
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    y_move-=1
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们在大循环开始之前，在这段代码里定义了一个 y 值移动的变量，而我们每循环一次，blit 就绘制一次屏幕，y 值都会被减去 1，所以我们每次看到的图片，都会不停往上移动，我们来看一下效果。</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/14c3a03865a843427be41ff85f64092b.png" alt=""></p>
<p>发现问题了没有，在移动的过程中，下方的图案居然没有被刷新，直接黏在了屏幕上，看起来是不是很恶心的样子？</p>
<p>我们应该怎么做才能达到正常的效果呢？也就是说，请你思考一下，应该怎样做，我们才可以将这个令人头疼的图像在移动的时候变得正常呢？</p>
<p>我们先来回顾一下，我们在循环里面做了哪些步骤：</p>
<ol>
<li>检测退出事件；</li>
<li>在屏幕上绘制 bg 对象，坐标初始为（0, y）；</li>
<li>飞机每移动一格，坐标 y 减 1；</li>
<li>更新屏幕。</li>
</ol>
<p>看起来似乎没有什么问题，我再来带你梳理一下。</p>
<p>首先我们初始化的时候，屏幕是黑屏一块，没有任何图像，然后我们进入大循环，将 bg 对象绘制到屏幕上的时候，你觉得这时候我们的眼睛看到绘制的图像了吗？</p>
<p>如果你说是的话，那就大错特错了，因为<strong>这个 blit 的动作，仅仅是绘制，而不是显示</strong>。请记住这个区别：<strong>绘制不等于显示</strong>。</p>
<p>那你可能就要问了，既然绘制了，为什么不显示呢？要什么时候才能显示呢？答案是，要在 update 一次屏幕的时候，才会显示，这就是“更新”的作用。就像电影是一帧一帧的，如果没有下一帧更新，电影就会永远定格在某一秒。</p>
<p>所以问题逐渐就暴露出来了，我们再来重新梳理一下流程：</p>
<ol>
<li>检测退出事件；</li>
<li>在屏幕上绘制 bg 对象，坐标初始为（0, y）（注意是绘制，不是显示）；</li>
<li>飞机每移动一格，坐标 y 就减 1；</li>
<li>更新屏幕，将第二步绘制的 bg 对象呈现在屏幕上，严谨地说，应该是将在 update 函数之前所有的绘制操作都更新一次并呈现在屏幕上）。</li>
</ol>
<p>好了，问题很清楚了，update 函数只是将屏幕更新了一次，并未进行填充颜色或者“擦除”背景的操作，也就是<strong>我们在移动 y 值的时候，整个屏幕不停地更新，然而没有擦除</strong>。那么应该怎么将移动后的画面进行清理呢？</p>
<p>我们在 update 代码之后填入下面的代码。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">screen.fill([0,0,0])
</span></span></code></pre></td></tr></table>
</div>
</div><p>fill 操作拥有三个参数，其中第一个参数是<strong>填充颜色；<strong>第二个参数是</strong>填充某一块区域</strong>（如果不填入第二个参数，就会填充整个屏幕）；第三个参数是<strong>blit 操作的特殊参数</strong>，我们暂时可以不用管它。</p>
<p>所以，我们在代码里填充了黑色到整个屏幕，这样一来我们的屏幕操作变成这样：</p>
<ol>
<li>检测退出事件；</li>
<li>在屏幕上绘制 bg 对象，坐标初始为（0, y）；</li>
<li>坐标的 y 减 1；</li>
<li>更新屏幕；</li>
<li>填充屏幕区域为黑色。</li>
</ol>
<p>我们再运行一下看一下效果。</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/022f710631348d3d4324e6129ea7a762.png" alt=""></p>
<p>嗯，这下看起来正常了，屏幕不断往上移，并且没有拖着尾巴一样的图案了。</p>
<h2 id="小结">小结</h2>
<p>我们在写 2D 游戏的时候要注意一点，就是：</p>
<p>我们要<strong>想象游戏的每一帧就像电影的每一帧。每一帧做的事情，如果下一帧不去做，那么永远不会更新屏幕内容</strong>。</p>
<p>所以，update 的功能是更新调用 update 之前的所有动作，这些动作可以有绘制图像操作，也可以有音乐播放，也可以有动画每一帧的操作等等。只要 update 一次，屏幕的画面就会往前行进一次。</p>
<p>给你留个小思考题吧，我们在 fill 屏幕的时候，怎么做才能让填充的颜色不停变幻呢？</p>
<p>欢迎留言说出你的看法。我在下一节的挑战中等你！</p>
<p><img src="https://raw.githubusercontent.com/epic1268/images/master/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/687aa95b3803eb0079b384dbad39d165.png" alt=""></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        10100-01-10
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/">从0开始学游戏开发</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E5%8C%BA%E5%9D%97%E9%93%BE/%E7%AC%AC9%E8%AE%B2__%E6%B7%B1%E5%85%A5%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8A%80%E6%9C%AF%E4%B8%80%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">第9讲__深入区块链技术（一）：技术基础</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%AD%A6%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E5%A4%8D%E4%B9%A0%E8%AF%BE_%E5%B8%A6%E4%BD%A0%E6%A2%B3%E7%90%86%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E4%B8%AA%E9%87%8D%E7%82%B9/">
            <span class="next-text nav-default">复习课_带你梳理客户端开发的三个重点</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2024 - 
    2025<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-FVZ07KBD4X"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-FVZ07KBD4X');
        }
      </script>






</body>
</html>
